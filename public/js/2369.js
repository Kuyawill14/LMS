"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[2369],{2993:(t,e,s)=>{s.d(e,{Z:()=>o});var n=s(1519),i=s.n(n)()((function(t){return t[1]}));i.push([t.id,".post-content img{max-height:23rem!important;max-width:100%}.post-content iframe{height:25rem!important;width:100%!important}",""]);const o=i},2369:(t,e,s)=>{s.r(e),s.d(e,{default:()=>u});var n=s(2239);function i(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,n)}return s}function o(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?i(Object(s),!0).forEach((function(e){a(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):i(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function a(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}const r={props:["PostList","UserDetails","classNames"],components:{commentList:function(){return s.e(2571).then(s.bind(s,2571))},announcementList:function(){return s.e(9812).then(s.bind(s,9812))}},data:function(){return{password:"Password",show:!1,comment:[],marker:!0,iconIndex:0,data:{},CommentList:[],showLess:!0,class_id:this.$route.params.id,isLoadingMore:!1}},computed:o(o({},(0,s(629).Se)(["current_page","last_page"])),{},{icon:function(){return this.icons[this.iconIndex]}}),methods:{test:function(){$(".img-fluid").click((function(){}))},format_date:function(t){if(t)return(0,n.Z)(String(t)).format("ddd, MMMM DD, YYYY h:mm a")},addComment:function(t,e){var s=this;this.data.content=this.comment[t],this.data.course_id=this.$route.params.id,this.data.post_id=e,axios.post("/api/post/insert",this.data).then((function(e){e.data,s.getComments(),s.clearComment(t)}))},clearComment:function(t){this.comment[t]=""},getComments:function(){var t=this;axios.get("/api/post/allcomment/"+this.$route.params.id).then((function(e){t.CommentList=e.data}))},getAnnouncementWhileScrolling:function(){var t=this;window.onscroll=function(){document.documentElement.scrollTop+window.innerHeight===document.documentElement.offsetHeight&&1!=t.isLoadingMore&&t.loadMore()}},loadMore:function(){var t=this;this.isLoadingMore=!0,this.current_page!=this.last_page?this.$store.dispatch("loadMore",this.$route.params.id).then((function(e){t.isLoadingMore=!1})):this.isLoadingMore=!1}},beforeMount:function(){$(".post-content p").replaceWith((function(){return"<span>"+this.innerHTML+"</span>"})),this.test()},mounted:function(){this.getAnnouncementWhileScrolling()}};var c=s(2446),l=s.n(c),m=s(2993),d={insert:"head",singleton:!1};l()(m.Z,d);m.Z.locals;const u=(0,s(1900).Z)(r,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[0!=t.PostList.length&&"Student"!=t.UserDetails.role?s("v-row",[s("v-col",{staticClass:"mb-0 pb-0 mt-0 pt-0 text-right",attrs:{cols:"12"}},[s("div",{staticClass:"d-inline-flex "},[s("v-select",{attrs:{items:t.classNames,"item-text":"class_name","item-value":"class_id",label:"Class",solo:""},model:{value:t.class_id,callback:function(e){t.class_id=e},expression:"class_id"}})],1)])],1):t._e(),t._v(" "),t._l(t.PostList,(function(e){return s("v-card",{directives:[{name:"show",rawName:"v-show",value:e.class_id==t.class_id||t.class_id==t.$route.params.id,expression:"post.class_id == class_id || class_id == $route.params.id"}],key:e.id,staticClass:"mb-10"},[s("v-row",{staticClass:"pl-5 pr-5 pt-2 mb-3 "},[s("v-col",{attrs:{cols:"8"}},[s("div",{staticClass:"d-flex flex-row user-info"},[s("v-avatar",{attrs:{color:"grey",size:t.$vuetify.breakpoint.xs||t.$vuetify.breakpoint.sm?40:45}},[s("v-img",{staticClass:"rounded-circle",attrs:{src:null==e.profile_pic||""==e.profile_pic?"https://ui-avatars.com/api/?background=0D8ABC&color=fff&name="+e.name:e.profile_pic}})],1),t._v(" "),s("div",{staticClass:"d-flex flex-column justify-content-start ml-2 mt-1"},[s("span",{staticClass:"d-block font-weight-bold name"},[t._v(t._s(e.name))]),t._v(" "),s("span",{staticClass:"date text-black-50"},[t._v(t._s(t.format_date(e.created_at)))])])],1)]),t._v(" "),e.u_id==t.UserDetails.id||"Teacher"==t.UserDetails.role?s("v-col",{staticClass:"text-right",attrs:{cols:"4"}},[s("v-btn",{attrs:{icon:""}},[s("v-icon",[t._v("mdi-dots-vertical")])],1)],1):t._e()],1),t._v(" "),s("v-container",{staticClass:"pl-4 pr-4 pb-6"},[s("v-row",[s("v-col",{attrs:{cols:"12"}},[s("div",{staticClass:"pa-5 "},[s("span",{staticClass:"post-content",domProps:{innerHTML:t._s(e.content)}})])])],1)],1),t._v(" "),s("v-row",{staticClass:"pl-5 pr-5"},[s("v-divider")],1),t._v(" "),s("commentList",{attrs:{commentCount:e.comment_count,LikesCount:e.likes_count,commentListData:e.comment,postDetails:e,PostId:e.post_id,UserDetails:t.UserDetails},on:{AddCount:function(t){e.comment_count++},MinusCount:function(t){e.comment_count--}}})],1)})),t._v(" "),t.isLoadingMore?s("div",{staticClass:"text-center"},[s("v-progress-circular",{attrs:{indeterminate:"",color:"primary"}}),t._v("\n            loading\n    ")],1):t._e()],2)}),[],!1,null,null,null).exports}}]);