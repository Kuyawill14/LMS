"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[8127],{8127:(t,s,e)=>{e.r(s),e.d(s,{default:()=>o});var a=e(7757),l=e.n(a);function i(t,s,e,a,l,i,n){try{var r=t[i](n),o=r.value}catch(t){return void e(t)}r.done?s(o):Promise.resolve(o).then(a,l)}function n(t){return function(){var s=this,e=arguments;return new Promise((function(a,l){var n=t.apply(s,e);function r(t){i(n,a,l,r,o,"next",t)}function o(t){i(n,a,l,r,o,"throw",t)}r(void 0)}))}}const r={props:["UserDetails"],data:function(){return{valid:!1,editEmail:!0,editPhone:!0,isSaving:!1,Details:[],emailRules:[function(t){return!!t||"E-mail is required"},function(t){return/.+@.+\..+/.test(t)||"E-mail must be valid"}],FieldRules:[function(t){return!!t||"Field is required"}],phoneNumberRules:[function(t){return t&&t.length>=11||"min 11 characters"},function(t){return t&&t.length<=15||"Max 15 characters"}],StudentIdRules:[function(t){return!!t||"Student ID is required"},function(t){return t&&t.length>=6||"min 6 characters"},function(t){return t&&t.length<=8||"Max 8 characters"}],isloading:!0,departmentsList:[]}},methods:{isNumber:function(t){if(isNaN(Number(t.key)))return t.preventDefault()},validate:function(){this.$refs.form.validate()&&this.UpdateDetails()},UpdateDetails:function(){var t=this;return n(l().mark((function s(){return l().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:t.isSaving=!t.isSaving,btoa("test123"),axios.post("/api/profile/updateDetails",t.UserDetails).then((function(s){t.toastSuccess("Profile Successfully Updated"),t.isSaving=!t.isSaving})).catch((function(s){t.toastError("Something went wrong in updating your profile!"),t.isSaving=!t.isSaving}));case 3:case"end":return s.stop()}}),s)})))()},fetchDeparmentList:function(){var t=this;return n(l().mark((function s(){return l().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:axios.get("/api/admin/department/all").then((function(s){t.departmentsList=s.data}));case 1:case"end":return s.stop()}}),s)})))()}},beforeMount:function(){var t=this;this.fetchDeparmentList(),setTimeout((function(){t.isloading=!t.isloading}),1e3)}};const o=(0,e(1900).Z)(r,(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(s){t.valid=s},expression:"valid"}},[e("v-row",{staticClass:"pb-5"},[e("v-col",{staticClass:"mb-0 pb-0",attrs:{cols:"12"}},[e("h3",[t._v("EDIT PROFILE")])]),t._v(" "),e("v-col",{staticClass:"mb-0 pb-0",attrs:{cols:"12"}},[e("v-divider")],1),t._v(" "),t.isloading?e("v-col",{attrs:{cols:"12"}},[t.isloading?e("v-container",{staticClass:"fill-height"},[e("v-row",{attrs:{"align-content":"center",justify:"center"}},[e("v-col",{staticClass:"text-subtitle-1 text-center",attrs:{cols:"12"}},[t._v("\n                   Loading\n               ")]),t._v(" "),e("v-col",{attrs:{cols:"6"}},[e("v-progress-linear",{attrs:{color:"primary",indeterminate:"",rounded:"",height:"6"}})],1)],1)],1):t._e()],1):t._e(),t._v(" "),t.isloading?t._e():e("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"12"}},[e("vue-element-loading",{attrs:{active:t.isSaving,spinner:"bar-fade-scale",color:"#EF6C00"}}),t._v(" "),e("v-col",{attrs:{cols:"12"}},[e("v-row",[e("v-col",{attrs:{cols:"12",md:"2"}}),t._v(" "),e("v-col",{staticClass:"mb-0 pb-0",attrs:{cols:"12",md:"10"}},[e("h4",{staticClass:"mt-5"},[t._v("1. Personal Details")])])],1)],1),t._v(" "),"Student"==t.UserDetails.role?e("v-col",{staticClass:"mb-0 pb-0",attrs:{cols:"12"}},[e("v-row",[e("v-col",{class:t.$vuetify.breakpoint.xs?"mb-0 pb-0":"mt-2",attrs:{cols:"12",md:"2"}},[t._v("\n                       Student ID\n                   ")]),t._v(" "),e("v-col",{staticClass:"pb-0 mb-0",attrs:{cols:"12",md:"2"}},[e("v-text-field",{attrs:{dense:"",rules:t.StudentIdRules,outlined:""},on:{keypress:t.isNumber},model:{value:t.UserDetails.student_id,callback:function(s){t.$set(t.UserDetails,"student_id",s)},expression:"UserDetails.student_id"}})],1)],1)],1):t._e(),t._v(" "),e("v-col",{staticClass:"mb-0 pb-0",attrs:{cols:"12"}},[e("v-row",[e("v-col",{class:t.$vuetify.breakpoint.xs?"mb-0 pb-0":"mt-2",attrs:{cols:"12",md:"2"}},[t._v("\n                       First Name\n                   ")]),t._v(" "),e("v-col",{staticClass:"pb-0 mb-0",attrs:{cols:"12",md:"6"}},[e("v-text-field",{attrs:{dense:"",rules:t.FieldRules,outlined:""},model:{value:t.UserDetails.firstName,callback:function(s){t.$set(t.UserDetails,"firstName",s)},expression:"UserDetails.firstName"}})],1)],1)],1),t._v(" "),e("v-col",{staticClass:"mt-0 pt-0 mb-0 pb-0",attrs:{cols:"12"}},[e("v-row",[e("v-col",{class:t.$vuetify.breakpoint.xs?"mb-0 pb-0":"mt-2",attrs:{cols:"12",md:"2"}},[t._v("\n                       Middle Name\n                   ")]),t._v(" "),e("v-col",{staticClass:"pb-0 mb-0",attrs:{cols:"12",md:"6"}},[e("v-text-field",{attrs:{dense:"",outlined:"",rules:t.FieldRules},model:{value:t.UserDetails.middleName,callback:function(s){t.$set(t.UserDetails,"middleName",s)},expression:"UserDetails.middleName"}})],1)],1)],1),t._v(" "),e("v-col",{staticClass:"mt-0 pt-0 mb-0 pb-0",attrs:{cols:"12"}},[e("v-row",{staticClass:"mb-0 pb-0"},[e("v-col",{class:t.$vuetify.breakpoint.xs?"mb-0 pb-0":"mt-2",attrs:{cols:"12",md:"2"}},[t._v("\n                       Last Name\n                   ")]),t._v(" "),e("v-col",{staticClass:"pb-0 mb-0",attrs:{cols:"12",md:"6"}},[e("v-text-field",{staticClass:"mb-0 pb-0",attrs:{dense:"",type:"text",outlined:"",rules:t.FieldRules},model:{value:t.UserDetails.lastName,callback:function(s){t.$set(t.UserDetails,"lastName",s)},expression:"UserDetails.lastName"}})],1)],1)],1),t._v(" "),e("v-col",{staticClass:"mb-0 pb-0",attrs:{cols:"12"}},[e("v-row",[e("v-col",{class:t.$vuetify.breakpoint.xs?"mb-0 pb-0":"mt-2",attrs:{cols:"12",md:"2"}},[t._v("\n                       Department\n                   ")]),t._v(" "),e("v-col",{staticClass:"pb-0 mb-0",attrs:{cols:"12",md:"6"}},[e("v-select",{staticClass:"mr-2",attrs:{items:t.departmentsList,"item-text":"name","item-value":"id",label:"Department",dense:"",outlined:""},model:{value:t.UserDetails.department,callback:function(s){t.$set(t.UserDetails,"department",s)},expression:"UserDetails.department"}})],1)],1)],1),t._v(" "),e("v-col",{staticClass:"mt-0 pt-0 ",attrs:{cols:"12"}},[e("v-row",[e("v-col",{attrs:{cols:"12",md:"2"}}),t._v(" "),e("v-col",{attrs:{cols:"12",md:"10"}},[e("h4",{staticClass:"mt-2"},[t._v("2. Contact")])])],1)],1),t._v(" "),e("v-col",{staticClass:"mt-0 pt-0 mb-0 pb-0",attrs:{cols:"12"}},[e("v-row",[e("v-col",{class:t.$vuetify.breakpoint.xs?"mb-0 pb-0 mr-0 pr-0":"mt-2 mr-0 pr-0",attrs:{cols:"12",md:"2"}},[t._v("\n                       Email Address.\n                   ")]),t._v(" "),e("v-col",{staticClass:"pb-0 mb-0",attrs:{cols:"10",md:"6"}},[e("v-text-field",{attrs:{disabled:t.editEmail,rules:t.emailRules,dense:"",outlined:"",hint:t.editEmail?"":"Please use an active email address!"},model:{value:t.UserDetails.email,callback:function(s){t.$set(t.UserDetails,"email",s)},expression:"UserDetails.email"}})],1),t._v(" "),e("v-col",{staticClass:"ml-0 pl-0 mt-1 mr-4",attrs:{cols:"1"}},[e("v-btn",{attrs:{text:"",icon:""},on:{click:function(s){t.editEmail=!t.editEmail}}},[e("v-icon",{attrs:{color:t.editEmail?"":"primary"}},[t._v("mdi-"+t._s(t.editEmail?"pencil-off-outline":"pencil-outline"))])],1)],1)],1)],1),t._v(" "),e("v-col",{staticClass:"mt-0 pt-0 mb-0 pb-0",attrs:{cols:"12"}},[e("v-row",[e("v-col",{class:t.$vuetify.breakpoint.xs?"mb-0 pb-0":"mt-2",attrs:{cols:"12",md:"2"}},[t._v("\n                       Phone No.\n                   ")]),t._v(" "),e("v-col",{staticClass:"pb-0 mb-0",attrs:{cols:"10",md:"6"}},[e("v-text-field",{attrs:{"max-length":"11",dense:"",outlined:"",disabled:t.editPhone,hint:t.editPhone?"":"Please use an active phone number"},on:{keypress:t.isNumber},model:{value:t.UserDetails.cp_no,callback:function(s){t.$set(t.UserDetails,"cp_no",s)},expression:"UserDetails.cp_no"}})],1),t._v(" "),e("v-col",{staticClass:"ml-0 pl-0 mt-1 mr-4",attrs:{cols:"1"}},[e("v-btn",{attrs:{text:"",icon:""},on:{click:function(s){t.editPhone=!t.editPhone}}},[e("v-icon",{attrs:{color:t.editPhone?"":"primary"}},[t._v("mdi-"+t._s(t.editPhone?"pencil-off-outline":"pencil-outline"))])],1)],1)],1)],1),t._v(" "),e("v-col",{staticClass:"mt-0 pt-0 ",attrs:{cols:"12"}},[e("v-row",[e("v-col",{attrs:{cols:"12",md:"2"}}),t._v(" "),e("v-col",{attrs:{cols:"12",md:"10"}},[e("h4",{staticClass:"mt-5"},[t._v("3. Social Link")])])],1)],1),t._v(" "),e("v-col",{staticClass:"mt-0 pt-0 mb-0 pb-0",attrs:{cols:"12"}},[e("v-row",[e("v-col",{class:t.$vuetify.breakpoint.xs?"mb-0 pb-0":"mt-2",attrs:{cols:"12",md:"2"}},[t._v("\n                       Facebook\n                   ")]),t._v(" "),e("v-col",{staticClass:"pb-0 mb-0",attrs:{cols:"12",md:"6"}},[e("v-text-field",{staticClass:"blue--text",attrs:{dense:"",outlined:""},model:{value:t.UserDetails.social_account,callback:function(s){t.$set(t.UserDetails,"social_account",s)},expression:"UserDetails.social_account"}})],1)],1)],1),t._v(" "),e("v-col",{staticClass:"mb-0 pb-5",attrs:{cols:"12"}},[e("v-row",[e("v-col",{class:t.$vuetify.breakpoint.xs?"mb-0 pb-0":"mt-2",attrs:{cols:"12",md:"2"}}),t._v(" "),e("v-col",{attrs:{cols:"12",md:"6"}},[e("v-btn",{attrs:{color:"primary",rounded:"",loading:t.isSaving,dark:""},on:{click:function(s){return t.validate()}}},[t._v(t._s(t.isSaving?"Saving...":"Save Changes"))])],1)],1)],1)],1)],1)],1)}),[],!1,null,null,null).exports}}]);