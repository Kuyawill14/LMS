"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[5506],{380:(t,e,s)=>{s.d(e,{Z:()=>i});var r=s(1519),n=s.n(r)()((function(t){return t[1]}));n.push([t.id,".v-input__slot{margin-bottom:0!important}",""]);const i=n},5506:(t,e,s)=>{s.r(e),s.d(e,{default:()=>c});function r(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,r)}return s}function n(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}const i={props:["role"],data:function(){return{Deldialog:!1,dialog:!1,temp_id:"",loading:!0,type:"",search:"",grading_criteria_form:{},grading_criteria:{},course_id:"",delId:"",studentSubModuleProgress:[],totalTimeSpent:0,students:[],classList:[],selectedClass:[],items:[{text:"Course",disabled:!1,link:"courses"},{text:"Teacher"==this.role?"Student Progress":"My Progress ",disabled:!0,link:"studentProgress"}]}},computed:function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?r(Object(s),!0).forEach((function(e){n(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):r(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},(0,s(629).Se)(["getmain_module","getSub_module","getAll_sub_module","getStudentMainModuleProgress","SubModuleProgress","allClass"])),methods:{convertTime:function(t){return new Date(1e3*parseInt(t)).toISOString().substr(11,8)},checkTimeSpent:function(t,e){return t>=e?"green":"red"},getTotalCompleted:function(t){for(var e=0,s=0,r=0;r<t.length;r++)e+=t[r].completed,s+=t[r].sub_module_length;return e+"/"+s},getTotalPercent:function(t){for(var e=0,s=0,r=0,n=0;n<t.length;n++)e+=t[n].completed,s+=t[n].sub_module_length;return r=e/s*100,isNaN(r)&&(r=0),parseFloat(r.toFixed(2))},_mainTotalRequiredTimeSeconds:function(){for(var t=0,e=this.getAll_sub_module,s=0;s<e.length;s++)t+=parseFloat(e[s].required_time);return t},_mainTotalRequiredTime:function(){for(var t=0,e=this.getAll_sub_module,s=0;s<e.length;s++)t+=parseFloat(e[s].required_time);return this.convertTime(t)},_totalRequiredTime:function(t){for(var e=0,s=this.getSub_module(t),r=0;r<s.length;r++)e+=parseFloat(s[r].required_time);return this.convertTime(e)},_totalTimeSpent:function(t){var e=0;return t.forEach((function(t){e+=parseFloat(t.time_spent)})),e},getProgress:function(t,e){SubModuleProgress(main_module.id,main.student_id)[0]},fetchStudentModuleProgress:function(){var t=this;axios.get("/api/student_sub_module/all/".concat(this.$route.params.id)).then((function(e){t.studentSubModuleProgress=e.data})),this.$store.dispatch("fetchMainModule",this.$route.params.id),this.$store.dispatch("fetchSubModule",this.$route.params.id),this.$store.dispatch("studentSubProgress",this.$route.params.id)},getStudentList:function(){var t=this;this.loading=!0,axios.get("/api/student/all_by_class/"+this.selectedClass).then((function(e){t.students=e.data})).catch((function(t){})),this.$store.dispatch("studentMainProgress",this.selectedClass).then((function(){t.loading=!1}))},getClassList:function(){var t=this;this.$store.dispatch("fetchSubjectCourseClassList",this.$route.params.id).then((function(){t.classList=t.allClass,t.selectedClass=t.classList[0].class_id,t.getStudentList(),t.loading=!1}))}},mounted:function(){this.loading=!0,this.fetchStudentModuleProgress(),this.getClassList(),this.loading=!1}};var o=s(2446),a=s.n(o),l=s(380),u={insert:"head",singleton:!1};a()(l.Z,u);l.Z.locals;const c=(0,s(1900).Z)(i,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("v-breadcrumbs",{staticClass:"ma-0 pa-0 mt-3",attrs:{items:t.items},scopedSlots:t._u([{key:"item",fn:function(e){var r=e.item;return[s("v-breadcrumbs-item",{attrs:{to:{name:r.link},disabled:r.disabled}},[t._v("\n        "+t._s(r.text.toUpperCase())+"\n    ")])]}}])}),t._v(" "),s("v-row",{staticClass:"pt-1"},[s("v-col",{attrs:{cols:"6"}},[s("h2",[t._v("\n                "+t._s("Teacher"==t.role?"Student Progress":"My Progress")+"\n            ")])]),t._v(" "),"Teacher"==t.role?s("v-col",{attrs:{cols:"6"}},[s("v-select",{staticClass:"float-right",attrs:{items:t.classList,"item-text":"class_name","item-value":"class_id",label:"Select Class"},on:{change:function(e){return t.getStudentList()}},model:{value:t.selectedClass,callback:function(e){t.selectedClass=e},expression:"selectedClass"}})],1):t._e()],1),t._v(" "),s("v-row",{staticClass:"pt-2"},[s("v-col",[s("v-card",[s("v-tabs",{attrs:{color:"deep-purple accent-4",right:""}},["Teacher"==t.role?s("v-tab",{attrs:{href:"#all"}},[t._v("\n                        All\n                    ")]):t._e(),t._v(" "),t._l(t.getmain_module,(function(e,r){return s("v-tab",{key:r},[t._v("\n                        "+t._s(e.module_name)+"\n                    ")])})),t._v(" "),t._l(t.getmain_module,(function(e,r){return s("v-tab-item",{key:r},[s("v-card-title",[t._v("\n                            "+t._s(e.module_name)+"\n\n                            "),s("v-spacer")],1),t._v(" "),s("v-simple-table",{scopedSlots:t._u([{key:"default",fn:function(){return[s("thead",[s("tr",["Teacher"==t.role?s("th",{staticClass:"text-center"},[t._v("\n                                            Student Name\n                                        ")]):t._e(),t._v(" "),t._l(t.getSub_module(e.id),(function(e,r){return s("th",{key:r,staticClass:"text-center"},[t._v("\n                                            "+t._s(e.sub_module_name)+"\n                                            "),s("br"),t._v("("+t._s(t.convertTime(e.required_time))+")\n                                        ")])})),t._v(" "),s("th",{staticClass:"text-center"},[t._v("\n                                            Total Time Spent "),s("br"),t._v("\n                                            ("+t._s(t._totalRequiredTime(e.id))+")\n                                        ")])],2)]),t._v(" "),s("tbody",[s("tr",[t._l(t.SubModuleProgress(e.id,t.student.id),(function(r,n){return s("td",{key:n,staticClass:"text-center"},[t._v("\n                                            "+t._s(t.SubModuleProgress(e.id,t.student.id))+"\n                                            "),s("v-chip",{attrs:{color:t.checkTimeSpent(r.time_spent,r.required_time),"text-color":"white"}},[t._v("\n                                                "+t._s(t.convertTime(r.time_spent))+"\n                                            ")])],1)})),t._v(" "),s("td",{staticClass:"text-center"},[t._v("\n                                            "+t._s(t.convertTime(t._totalTimeSpent(t.SubModuleProgress(e.id,t.student.id))))+"\n                                        ")])],2)])]},proxy:!0}],null,!0)})],1)}))],2)],1)],1)],1)],1)}),[],!1,null,"982cb3a0",null).exports}}]);