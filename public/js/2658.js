"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[2658],{3917:(t,e,a)=>{a.d(e,{Z:()=>r});var i=a(1519),s=a.n(i)()((function(t){return t[1]}));s.push([t.id,".doc[data-v-0411c801]{height:70vh;width:100%}",""]);const r=s},9153:(t,e,a)=>{a.d(e,{Z:()=>r});var i=a(1519),s=a.n(i)()((function(t){return t[1]}));s.push([t.id,"input::-webkit-inner-spin-button,input::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type=number]{-moz-appearance:textfield}",""]);const r=s},2658:(t,e,a)=>{a.r(e),a.d(e,{default:()=>h});var i=a(7757),s=a.n(i),r=a(2239);function n(t,e,a,i,s,r,n){try{var o=t[r](n),c=o.value}catch(t){return void a(t)}o.done?e(c):Promise.resolve(c).then(i,s)}function o(t){return function(){var e=this,a=arguments;return new Promise((function(i,s){var r=t.apply(e,a);function o(t){n(r,i,s,o,c,"next",t)}function c(t){n(r,i,s,o,c,"throw",t)}o(void 0)}))}}function c(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function l(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}const u={props:["CheckData","classworkDetails"],data:function(){return{dialog:!1,notifications:!1,sound:!0,widgets:!1,Details:null,timeout:null,value:"",score:"",pdf_path:null,isSavingScore:!1,isCommenting:!1,comment:null}},computed:function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?c(Object(a),!0).forEach((function(e){l(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},(0,a(629).Se)(["get_CurrentUser"])),methods:{format_date:function(t){if(t)return(0,r.Z)(String(t)).format("MM/d/YYYY, hh:mm A")},DownloadFile:function(t){var e=window.location.protocol+"//"+window.location.host;window.location=e+"/storage/"+t},SaveScore:function(){clearTimeout(this.timeout);var t=this;this.timeout=setTimeout((function(){t.score=t.CheckData.points,t.isSavingScore=!t.isSavingScore,t.UpdateScore()}),1e3)},UpdateScore:function(){var t=this;return o(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.score<=t.classworkDetails.points?axios.put("/api/submission/update-score/"+t.CheckData.id,{score:t.score}).then((function(e){200==e.status&&(t.toastSuccess("Score Updated"),t.isSavingScore=!t.isSavingScore,t.$emit("UpdateSubmission"))})):(t.isSavingScore=!t.isSavingScore,t.toastError("Score is higher than the set points!"));case 1:case"end":return e.stop()}}),e)})))()},alertStudent:function(){var t=this;return o(s().mark((function e(){var a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a={},t.isAlerting=!0,a.user_id=t.CheckData.user_id,a.classwork_name=t.classworkDetails.title,a.classwork_id=t.classworkDetails.id,a.course_id=t.classworkDetails.course_id,a.firstName=t.CheckData.firstName,axios.post("/api/teacher/alert-student",a).then((function(e){1==e.data.success&&(t.toastSuccess(e.data.message),t.isAlerting=!1)}));case 8:case"end":return e.stop()}}),e)})))()},addComment:function(t){var e=this;return o(s().mark((function a(){var i;return s().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:i={},e.isCommenting=!0,i.classwork_id=t.classwork_id,i.course_id=e.$route.params.id,i.to_user=t.user_id,i.comment=e.comment,axios.post("/api/post/classwork/comment/insert",i).then((function(t){200==t.status&&(e.CheckData.comments.push({content:t.data.comment,id:t.data.id,name:t.data.name,profile_pic:t.data.profile_pic}),e.comment=null)})),e.isCommenting=!1;case 8:case"end":return a.stop()}}),a)})))()}},created:function(){if(null!=this.CheckData.Submitted_Answers&&""!=this.CheckData.Submitted_Answers){var t="/storage/"+this.CheckData.Submitted_Answers[0].link,e=window.location.protocol+"//"+window.location.host;this.pdf_path=e+t}this.$emit("isMounted")}};var m=a(2446),d=a.n(m),v=a(3917),p={insert:"head",singleton:!1};d()(v.Z,p);v.Z.locals;var f=a(9153),_={insert:"head",singleton:!1};d()(f.Z,_);f.Z.locals;const h=(0,a(1900).Z)(u,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-app-bar",{attrs:{color:"primary"}},[a("v-btn",{attrs:{dark:"",icon:""},on:{click:function(e){return t.$emit("closeDialog")}}},[a("v-icon",[t._v("mdi-close")])],1)],1),t._v(" "),a("v-card-text",{staticClass:"ma-0 pa-0 pa-2"},[a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{class:t.$vuetify.breakpoint.xs?"pt-2":"pt-2 pr-3",attrs:{cols:"12",md:"4",lg:"4"}},[a("v-container",{attrs:{fluid:"","ma-0":"","pa-0":""}},[a("v-card",{staticClass:"pa-5 pb-8 pt-0",attrs:{elevation:"1",outlined:""}},[a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{staticClass:"ma-0 pa-0"},[a("v-list",{staticClass:"ma-0 pa-0"},[a("v-list-item",{staticClass:"ma-0 pa-0"},[a("v-list-item-avatar",{attrs:{color:"secondary"}},[a("v-img",{attrs:{alt:"Profile",src:null==t.CheckData.profile_pic||""==t.CheckData.profile_pic?"https://ui-avatars.com/api/?background=random&color=fff&name="+t.CheckData.firstName+" "+t.CheckData.lastName:t.CheckData.profile_pic}})],1),t._v(" "),a("v-list-item-content",[a("v-list-item-title",{staticClass:"font-weight-medium"},[t._v(t._s(t.CheckData.firstName+" "+t.CheckData.lastName))]),t._v(" "),a("v-list-item-subtitle",[t._v("Submitted: "+t._s(t.format_date(t.CheckData.updated_at)))])],1),t._v(" "),a("v-list-item-action",{staticClass:"mt-8"},[a("v-text-field",{attrs:{loading:t.isSavingScore,dense:"",outlined:"",label:"Score",type:"number",suffix:"/"+t.classworkDetails.points,max:t.classworkDetails.points,min:"0"},on:{keyup:function(e){return t.SaveScore()}},model:{value:t.CheckData.points,callback:function(e){t.$set(t.CheckData,"points",e)},expression:"CheckData.points"}})],1)],1)],1)],1),t._v(" "),a("v-col",{attrs:{cols:"12"}},[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("h2",[t._v(t._s(t.classworkDetails.title))])]),t._v(" "),a("v-col",{attrs:{cols:"12"}},[null!=t.CheckData.Submitted_Answers&&""!=t.CheckData.Submitted_Answers?a("v-row",t._l(t.CheckData.Submitted_Answers,(function(e,i){return a("v-col",{key:i,staticClass:"mb-0 pb-0 mt-0 pt-0",attrs:{cols:"12"}},[a("div",{staticClass:"d-flex"},[a("div",{staticClass:"body-1 pr-2 pl-2 mt-2"},[t._v("\n                                                        "+t._s(i+1)+".\n                                                    ")]),t._v(" "),a("div",{staticStyle:{width:"100%"}},[a("v-hover",{scopedSlots:t._u([{key:"default",fn:function(i){var s=i.hover;return[a("v-alert",{staticClass:"mb-1 pa-2",class:s?"grey lighten-2":"",staticStyle:{cursor:"pointer"},attrs:{dense:"",outlined:"",icon:"pdf"==e.fileExte?"mdi-file-pdf":"docx"==e.fileExte?"mdi-file-word":"jpg"==e.fileExte||"png"==e.fileExte||"bmp"==e.fileExte?"mdi-folder-multiple-image":"",color:"pdf"==e.fileExte?"red":"docx"==e.fileExte?"blue":"jpg"==e.fileExte||"png"==e.fileExte||"bmp"==e.fileExte?"info":""}},[a("v-row",{attrs:{align:"center"}},[a("v-col",{staticClass:"grow text-left"},[a("div",{class:s?"text-decoration-underline":""},[t._v(" "+t._s(e.name))])]),t._v(" "),a("v-col",{staticClass:"shrink d-flex"},[a("div",{staticClass:"black--text mt-1 mr-1"},[t._v(t._s(e.fileSize))]),t._v(" "),a("div",{staticClass:"pt-1"},[a("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(i){var s=i.on,r=i.attrs;return[a("v-btn",t._g(t._b({attrs:{rounded:"",small:"",icon:"",text:""},on:{click:function(a){return t.DownloadFile(e.link)}}},"v-btn",r,!1),s),[a("v-icon",{attrs:{color:"blue"}},[t._v("mdi-download")])],1)]}}],null,!0)},[t._v(" "),a("span",[t._v("Download")])])],1)])],1)],1)]}}],null,!0)})],1)])])})),1):t._e()],1)],1)],1)],1)],1),t._v(" "),a("v-card",{staticClass:"mt-2 ",attrs:{elevation:"1",outlined:""}},[a("div",{staticClass:"pt-3 pl-4 pr-4 pb-2"},[a("v-icon",{attrs:{left:""}},[t._v("mdi-comment")]),t._v("Private Comments\n                            ")],1),t._v(" "),a("v-divider"),t._v(" "),a("v-list",{staticClass:"mb-0 pb-0"},t._l(t.CheckData.comments,(function(e,i){return a("v-list-item",{key:i,staticClass:"mb-0 pb-0"},[a("v-list-item-avatar",[a("v-img",{attrs:{src:null==e.profile_pic||""==e.profile_pic?"https://ui-avatars.com/api/?background=0D8ABC&color=fff&name="+e.name:e.profile_pic}})],1),t._v(" "),a("v-list-item-content",[a("v-list-item-title",{domProps:{innerHTML:t._s(e.name)}}),t._v(" "),a("v-list-item-subtitle",{domProps:{innerHTML:t._s(e.content)}})],1),t._v(" "),a("v-list-item-action",[a("v-btn",{attrs:{icon:""}},[a("v-icon",{attrs:{small:"",color:"grey lighten-1"}},[t._v("mdi-dots-vertical")])],1)],1)],1)})),1),t._v(" "),a("v-divider"),t._v(" "),a("v-list",{staticClass:"mb-0 pb-0 mt-0 pt-0"},[a("v-list-item",{staticClass:"mb-0 pb-0"},[a("v-list-item-avatar",{attrs:{color:"secondary"}},[a("v-img",{attrs:{src:null==t.get_CurrentUser.profile_pic||""==t.get_CurrentUser.profile_pic?"https://ui-avatars.com/api/?background=random&color=fff&name="+t.get_CurrentUser.firstName+" "+t.get_CurrentUser.lastName:t.get_CurrentUser.profile_pic}})],1),t._v(" "),a("v-list-item-content",{staticClass:"ma-0 pa-0"},[a("v-textarea",{staticClass:"pa-0 mt-7",attrs:{loading:t.isCommenting,"prepend-avatar":"mdi-emoticon-dead",filled:"",rounded:"",dense:"","auto-grow":"",rows:"1","clear-icon":"mdi-close-circle",clearable:"",placeholder:"Comment",type:"text"},model:{value:t.comment,callback:function(e){t.comment=e},expression:"comment"}})],1),t._v(" "),a("v-list-item-action",[a("v-btn",{attrs:{loading:t.isCommenting,icon:""},on:{click:function(e){return t.addComment(t.CheckData)}}},[a("v-icon",{attrs:{color:"primary"}},[t._v("mdi-send")])],1)],1)],1)],1)],1)],1)],1),t._v(" "),a("v-col",{staticClass:"pt-1",attrs:{cols:"12",md:"8",lg:"8"}},[null==t.CheckData.Submitted_Answers||""==t.CheckData.Submitted_Answers?a("v-container",{staticClass:"pt-1",attrs:{fluid:"","ma-0":"","pa-0":""}},[a("v-card",{staticClass:"pa-2",staticStyle:{height:"40rem"}},[a("v-row",{attrs:{justify:"center","align-content":"center"}},[a("v-col",{staticClass:"text-center",staticStyle:{"margin-top":"10rem"},attrs:{cols:"12"}},[a("v-icon",{staticStyle:{"font-size":"8rem"}},[t._v("\n                                        mdi-notebook-remove-outline\n                                    ")]),t._v(" "),a("h2",[t._v(" Empty Submission ")]),t._v(" "),a("p",{staticClass:"mb-0 pb-0"},[t._v(" This student did not submit yet!")]),t._v(" "),a("v-btn",{attrs:{color:"primary"},on:{click:function(e){return t.alertStudent()}}},[t._v("Alert Student "),a("v-icon",{attrs:{right:""}},[t._v("mdi-account-alert")])],1)],1)],1)],1)],1):t._e(),t._v(" "),null!=t.CheckData.Submitted_Answers&&""!=t.CheckData.Submitted_Answers?a("v-container",{attrs:{fluid:"","ma-0":"","pa-0":""}},[a("v-card",[a("div",{staticClass:"pa-3"},[a("h3",{staticClass:"font-weight-bold"},[t._v("Document Preview")]),t._v(" "),a("v-divider")],1),t._v(" "),a("div",{staticStyle:{height:"100vh"}},[a("iframe",{staticStyle:{position:"absolute",top:"0px",left:"0px",width:"100%",height:"100%"},attrs:{title:"google pdf viewer",id:"pdf-iframe",src:"https://docs.google.com/viewer?embedded=true&url="+t.pdf_path,sandbox:"allow-same-origin allow-scripts allow-popups allow-forms"}})])])],1):t._e()],1)],1)],1)],1)}),[],!1,null,"0411c801",null).exports}}]);