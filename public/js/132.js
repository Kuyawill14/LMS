(self.webpackChunk=self.webpackChunk||[]).push([[132],{132:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>o});var a=i(7757),s=i.n(a);function l(t,e,i,a,s,l,n){try{var o=t[l](n),r=o.value}catch(t){return void i(t)}o.done?e(r):Promise.resolve(r).then(a,s)}const n={props:["classworkDetails"],data:function(){return{valid:!1,Details:{},isUpdating:!1,isUpdatingSnackBar:!1,isloading:!0,file:null,FieldRules:[function(t){return!!t||"Field is required"}],isCheckingFile:!1,isUploading:!1,isLeaving:!1}},methods:{UpdateClasswork:function(){var t,e=this;return(t=s().mark((function t(){var i;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.isUpdatingSnackBar=!0,e.isUpdating=!0,console.log(e.Details),(i=new FormData).append("attachment",e.Details.attachment),i.append("attachment_name",e.Details.attachment_name),i.append("attachment_size",e.Details.attachment_size),i.append("course_id",e.Details.course_id),i.append("duration",e.Details.duration),i.append("instruction",e.Details.instruction),i.append("id",e.Details.id),i.append("module_id",e.Details.module_id),i.append("points",e.Details.points),i.append("title",e.Details.title),i.append("type",e.Details.type),i.append("user_id",e.Details.user_id),i.append("OldName",e.Details.OldName),i.append("file",e.file),t.next=20,axios.post("/api/classwork/update",i).then((function(t){setTimeout((function(){return e.isUpdating=!1,e.toastSuccess("Classwork successfully updated")}),1e3)})).catch((function(t){}));case 20:case"end":return t.stop()}}),t)})),function(){var e=this,i=arguments;return new Promise((function(a,s){var n=t.apply(e,i);function o(t){l(n,a,s,o,r,"next",t)}function r(t){l(n,a,s,o,r,"throw",t)}o(void 0)}))})()},TestUpload:function(){this.$refs.fileInput.$refs.input.click(),this.isUploading=!0},onFileChange:function(t){if(this.file=t[0],0==this.isCheckingFile&&(this.Details.OldName=this.classworkDetails.attachment_name),this.isCheckingFile=!0,this.Details.attachment_name=t[0].name,t[0].size>1e6){var e=.001*t[0].size,i=parseInt(.001*e);this.classworkDetails.attachment_size=i+"mb"}else{var a=.001*t[0].size,s=parseInt(a);this.classworkDetails.attachment_size=s+"kb"}}},beforeMount:function(){this.Details=this.classworkDetails},beforeRouteLeave:function(t,e,i){this.isLeaving=!0,i()}};const o=(0,i(1900).Z)(n,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"pa-1"},[i("v-overlay",{attrs:{value:t.isLeaving}},[i("v-progress-circular",{attrs:{indeterminate:"",size:"64"}})],1),t._v(" "),t.isLeaving?t._e():i("v-container",{staticClass:"pa-0 pa-0",attrs:{"pa-0":"","ma-0":"",fluid:""}},[i("v-row",{attrs:{align:"center",justify:"center"}},[i("v-col",{attrs:{cols:"12",md:"8",lg:"9",xl:"9"}},[i("vue-element-loading",{attrs:{active:t.isUpdating,spinner:"bar-fade-scale"}}),t._v(" "),i("v-card",{staticClass:"pa-5",attrs:{elevation:"1",outlined:""}},[i("v-form",{ref:"UpdateClassworkForm",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[i("v-row",[i("v-col",{staticClass:"mt-2",attrs:{cols:"12"}},[i("v-select",{attrs:{outlined:"",rules:t.FieldRules,items:["Objective Type","Subjective Type"],label:"Type"},model:{value:t.Details.type,callback:function(e){t.$set(t.Details,"type",e)},expression:"Details.type"}})],1),t._v(" "),i("v-col",{staticClass:"mb-0 pb-0 pt-0 mt-0",attrs:{cols:"12"}},[i("v-text-field",{attrs:{outlined:"",rules:t.FieldRules,label:"Title",type:"text",required:""},model:{value:t.Details.title,callback:function(e){t.$set(t.Details,"title",e)},expression:"Details.title"}})],1),t._v(" "),i("v-col",{staticClass:"mb-0 pb-0 pt-0 mt-0",attrs:{cols:"12"}},[i("v-textarea",{attrs:{rules:t.FieldRules,outlined:"",label:"Instruction","auto-grow":""},model:{value:t.Details.instruction,callback:function(e){t.$set(t.Details,"instruction",e)},expression:"Details.instruction"}})],1),t._v(" "),"Objective Type"==t.Details.type?i("v-col",{staticClass:"mb-0 pb-0 pt-0 mt-0",attrs:{cols:"12"}},["Objective Type"==t.Details.type?i("v-text-field",{staticClass:"mb-0 pb-0 pt-0 mt-0",attrs:{rules:t.FieldRules,"append-icon":"mdi-timer",outlined:"",hint:"mins",label:"Time Limit",type:"number"},model:{value:t.Details.duration,callback:function(e){t.$set(t.Details,"duration",e)},expression:"Details.duration"}}):t._e()],1):t._e(),t._v(" "),"Subjective Type"==t.Details.type?i("v-col",{class:t.isUploading?"b-0 pb-0 pt-0 mt-0 d-none":"b-0 pb-0 pt-0 mt-0",attrs:{cols:"12"}},["Subjective Type"==t.Details.type?i("v-text-field",{staticClass:"mb-0 pb-0 pt-0 mt-0",attrs:{"prepend-inner-icon":"mdi-paperclip",rules:t.FieldRules,label:"File input","show-size":"",outlined:"",multiple:"",chips:""},on:{click:t.TestUpload},model:{value:t.Details.attachment_name,callback:function(e){t.$set(t.Details,"attachment_name",e)},expression:"Details.attachment_name"}}):t._e()],1):t._e(),t._v(" "),"Subjective Type"==t.Details.type?i("v-col",{class:t.isUploading?"b-0 pb-0 pt-0 mt-0":"b-0 pb-0 pt-0 mt-0 d-none",attrs:{cols:"12"}},[i("v-file-input",{ref:"fileInput",attrs:{label:"File input",outlined:"","show-size":"",counter:"",multiple:"","prepend-icon":"","prepend-inner-icon":"mdi-paperclip"},on:{change:t.onFileChange},scopedSlots:t._u([{key:"selection",fn:function(e){var a=e.text;return[i("v-chip",{attrs:{small:"",label:"",color:"primary"}},[t._v("\n                                                "+t._s(a)+"\n                                            ")])]}}],null,!1,1193889600)})],1):t._e(),t._v(" "),"Subjective Type"==t.Details.type?i("v-col",{staticClass:"mb-0 pb-0 pt-0 mt-0",attrs:{cols:"12"}},["Subjective Type"==t.Details.type?i("v-text-field",{attrs:{rules:t.FieldRules,outlined:"",min:"0",label:"Points",type:"number"},model:{value:t.Details.points,callback:function(e){t.$set(t.Details,"points",e)},expression:"Details.points"}}):t._e()],1):t._e(),t._v(" "),i("v-col",{attrs:{cols:"12 text-left"}},[i("v-btn",{staticClass:"ma-2 white--text",attrs:{rounded:"",loading:t.isUpdating,color:"primary"},on:{click:function(e){return t.UpdateClasswork()}}},[t._v("\n                                            Update\n                                            "),i("v-icon",{attrs:{right:"",dark:""}},[t._v("\n                                                mdi-update\n                                            ")])],1)],1)],1)],1)],1)],1)],1)],1)],1)}),[],!1,null,"7bfd6f5e",null).exports}}]);