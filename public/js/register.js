"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[685],{14805:(e,t,s)=>{s.r(t),s.d(t,{default:()=>r});const a={components:{loginRegisterImageConatiner:function(){return s.e(2927).then(s.bind(s,80653))},loginRegisterFooter:function(){return s.e(2927).then(s.bind(s,29065))}},data:function(){return{isRegistering:!1,valid:!0,role:["Teacher","Student"],invalid_classcode_message:null,form:new Form({firstName:"",middleName:"",lastName:"",email:"",password:"",password_confirmation:"",student_id:""}),loginForm:new Form({email:"",password:""}),nameRules:[function(e){return!!e||"Field is required"},function(e){return e&&e.length<=20||"Name must be less than 20 characters"}],loginEmailRules:[function(e){return!!e||"Field is required"},function(e){return/.+@.+\..+/.test(e)||"Email must be valid"}],RoleRules:[function(e){return!!e||"Field is required"}],StudentIdRules:[function(e){return!!e||"Student ID is required"},function(e){return e&&e.length>=6||"min 6 characters"},function(e){return e&&e.length<=8||"Max 8 characters"}],show:!1,show1:!1,rules:{required:function(e){return!!e||"Field is required."},min:function(e){return e&&e.length>=6||"min 6 characters"}}}},computed:{passwordMatch:function(){return this.form.password===this.form.password_confirmation||"Pasword does not match"}},methods:{isNumber:function(e){if(isNaN(Number(e.key)))return e.preventDefault()},validate:function(){var e=this;this.$refs.RegisterForm.validate()&&(this.isRegistering=!0,this.form.post("/api/register").then((function(t){1==t.data.success?(e.toastSuccess(t.data.message),e.login(e.form.email,e.form.password),e.valid=!0,e.isRegistering=!1,e.$refs.RegisterForm.reset()):(e.toastError(t.data.message),e.invalid_classcode_message=t.data.message,e.isRegistering=!1)})).catch((function(t){e.toastError(t.response.data.message),e.isRegistering=!1})))},login:function(e,t){var s=this;this.loginForm.email=e,this.loginForm.password=t,axios.get("/sanctum/csrf-cookie").then((function(e){s.loginForm.post("/api/login").then((function(e){1==e.data.success?(s.$store.dispatch("clear_current_user"),s.$router.push({path:"/"})):s.toastError(e.data.message)}))}))}}};const r=(0,s(51900).Z)(a,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-app",[s("v-container",{class:e.$vuetify.breakpoint.xs||e.$vuetify.breakpoint.sm?"":"fill-height",attrs:{fluid:""}},[s("v-row",{attrs:{align:"center",justify:"center"}},[s("v-col",{class:e.$vuetify.breakpoint.xs||e.$vuetify.breakpoint.sm?"":"ma-0 pa-0",attrs:{cols:"12",sm:"12",md:"12"}},[s("v-row",{class:e.$vuetify.breakpoint.xs||e.$vuetify.breakpoint.sm?"fill-height":"",attrs:{align:"center",justify:"center"}},[s("loginRegisterImageConatiner"),e._v(" "),s("v-col",{class:e.$vuetify.breakpoint.xs?"ma-0 pa-3 mb-10":"ma-0 pa-0",attrs:{cols:"12",md:"5"}},[s("vue-element-loading",{attrs:{active:e.isRegistering,spinner:"bar-fade-scale",color:"#EF6C00"}}),e._v(" "),s("v-row",{attrs:{align:"center",justify:"center"}},[s("v-col",{attrs:{cols:"12",md:"12",lg:"12",sm:"7"}},[s("v-card-text",[s("v-form",{ref:"RegisterForm",staticClass:"text-center ",attrs:{autocomplete:"off","lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[s("v-row",{attrs:{align:"center",justify:"center"}},[s("v-col",{staticClass:"mt-0 pt-0 text-left",attrs:{cols:"12",md:"8"}},[s("div",{staticClass:"text-md-h5 text-xs-h5 text-sm-h6 font-weight-bold"},[e._v("Sign\n                                                    Up "),s("span",{staticClass:"font-weight-regular"},[e._v("Now")])]),e._v(" "),s("p",{staticClass:"mt-2"},[e._v("Login Your Account "),s("router-link",{staticClass:"blue--text",attrs:{to:{name:"login"}}},[e._v("Click here")])],1)]),e._v(" "),s("v-col",{staticClass:"ma-0 pa-0 mt-2 ",attrs:{cols:"12",md:"8"}},[s("HasError",{staticClass:"error--text",attrs:{form:e.form,field:"student_id"}}),e._v(" "),s("v-text-field",{attrs:{outlined:"",dense:e.$vuetify.breakpoint.mdAndUp,rules:e.StudentIdRules,label:"Student ID Number",name:"student_id",type:"number",color:"primary",maxlength:"6"},on:{keypress:e.isNumber},model:{value:e.form.student_id,callback:function(t){e.$set(e.form,"student_id",t)},expression:"form.student_id"}})],1),e._v(" "),s("v-col",{staticClass:"ma-0 pa-0 mt-0",attrs:{cols:"12",md:"8"}},[s("v-text-field",{attrs:{outlined:"",dense:e.$vuetify.breakpoint.mdAndUp,rules:e.nameRules,label:"First Name",name:"firstName",type:"text",color:"primary"},model:{value:e.form.firstName,callback:function(t){e.$set(e.form,"firstName",t)},expression:"form.firstName"}})],1),e._v(" "),s("v-col",{staticClass:"ma-0 pa-0 mt-0 ",attrs:{cols:"12",md:"8"}},[s("HasError",{staticClass:"error--text",attrs:{form:e.form,field:"middleName"}}),e._v(" "),s("v-text-field",{attrs:{outlined:"",dense:e.$vuetify.breakpoint.mdAndUp,label:"Middle Name",rules:e.nameRules,name:"middleName",type:"text",color:"primary"},model:{value:e.form.middleName,callback:function(t){e.$set(e.form,"middleName",t)},expression:"form.middleName"}})],1),e._v(" "),s("v-col",{staticClass:"ma-0 pa-0 mt-0",attrs:{cols:"12",md:"8"}},[s("HasError",{staticClass:"error--text",attrs:{form:e.form,field:"lastName"}}),e._v(" "),s("v-text-field",{attrs:{outlined:"",dense:e.$vuetify.breakpoint.mdAndUp,label:"Last Name",rules:e.nameRules,name:"lastname",type:"text",color:"primary"},model:{value:e.form.lastName,callback:function(t){e.$set(e.form,"lastName",t)},expression:"form.lastName"}})],1),e._v(" "),s("v-col",{staticClass:"ma-0 pa-0 mt-0 ",attrs:{cols:"12",md:"8"}},[s("HasError",{staticClass:"error--text",attrs:{form:e.form,field:"email"}}),e._v(" "),s("v-text-field",{attrs:{outlined:"",dense:e.$vuetify.breakpoint.mdAndUp,label:"Email",name:"Email",rules:e.loginEmailRules,type:"email",color:"primary"},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1),e._v(" "),s("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"12",md:"8"}},[s("HasError",{staticClass:"error--text",attrs:{form:e.form,field:"password"}}),e._v(" "),s("v-text-field",{attrs:{outlined:"",dense:e.$vuetify.breakpoint.mdAndUp,"append-icon":e.show?"mdi-eye":"mdi-eye-off",id:"password",label:"Password",name:"password",type:e.show?"text":"password",color:"primary",rules:[e.rules.required,e.rules.min],counter:""},on:{"click:append":function(t){e.show=!e.show}},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),e._v(" "),s("v-col",{staticClass:"ma-0 pa-0 ",attrs:{cols:"12",md:"8"}},[s("v-text-field",{attrs:{outlined:"",dense:e.$vuetify.breakpoint.mdAndUp,"append-icon":e.show1?"mdi-eye":"mdi-eye-off",id:"passwordConfirmation",label:"Confirm Password",name:"password",type:e.show1?"text":"password",color:"primary",rules:[e.rules.required,e.passwordMatch],counter:""},on:{"click:append":function(t){e.show1=!e.show1}},model:{value:e.form.password_confirmation,callback:function(t){e.$set(e.form,"password_confirmation",t)},expression:"form.password_confirmation"}})],1),e._v(" "),s("v-col",{staticClass:"ma-0 pa-0 text-left mt-2",attrs:{cols:"12",md:"8"}},[s("v-btn",{staticClass:"mb-5",attrs:{loading:e.isRegistering,disabled:!e.valid,block:!e.$vuetify.breakpoint.mdAndUp,large:!e.$vuetify.breakpoint.mdAndUp,rounded:!e.$vuetify.breakpoint.mdAndUp,color:"primary"},on:{click:e.validate}},[s("v-icon",{staticClass:"mr-3"},[e._v("mdi-login")]),e._v("\n                                                    Sign Up\n                                                ")],1)],1)],1)],1)],1)],1)],1)],1),e._v(" "),s("loginRegisterFooter")],1)],1)],1)],1)],1)}),[],!1,null,null,null).exports}}]);