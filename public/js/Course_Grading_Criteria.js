"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[1021],{70397:(t,e,r)=>{r.d(e,{Z:()=>n});var i=r(1519),a=r.n(i)()((function(t){return t[1]}));a.push([t.id,".v-input__slot{margin-bottom:0!important}",""]);const n=a},62112:(t,e,r)=>{r.r(e),r.d(e,{default:()=>l});function i(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,i)}return r}function a(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const n={data:function(){return{Deldialog:!1,dialog:!1,temp_id:"",loading:!1,type:"",search:"",grading_criteria_form:{},grading_criteria:{},course_id:"",delId:"",items:[{text:"Course",disabled:!1,link:"courses"},{text:"Grading Criteria",disabled:!0,link:"gradingCriteria"}],valid:!0,rules:[function(t){return!!t||"Field is required"}]}},computed:function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?i(Object(r),!0).forEach((function(e){a(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},(0,r(20629).Se)(["get_gradingCriteria"])),methods:{validate:function(){this.$refs.form.validate()&&("add"==this.type?this.addGradeCriteria():this.updateGradeCriteria())},getAllGradeCriteria:function(){this.$store.dispatch("fetchGradingCriteria",this.$route.params.id)},openAdd:function(){this.type="add",this.grading_criteria_form.name="",this.grading_criteria_form.percentage="",this.dialog=!0},openEdit:function(t,e,r){this.type="edit",this.dialog=!0,this.grading_criteria_form.name=t,this.grading_criteria_form.percentage=e,this.grading_criteria_form.id=r,this.grading_criteria_form.course_id=this.$route.params.id},openDelete:function(t){0==t.publish_count?(this.delId=t.id,this.Deldialog=!0):this.toastError("There is already published classwork in this criteria!")},addGradeCriteria:function(){var t=this;if(""!=this.grading_criteria_form.name.trim()||""!=this.grading_criteria_form.percentage.trim()){this.loading=!0;this.grading_criteria_form.course_id=this.$route.params.id,this.$store.dispatch("addGradingCriteria",this.grading_criteria_form).then((function(e){t.dialog=!1}))}},updateGradeCriteria:function(){var t=this,e="";this.$store.dispatch("updateGradingCriteria",this.grading_criteria_form).then((function(r){if("error"==r[0]){for(var i=1;i<r.length;i++)e=r[i]+"<br>"+e;t.loading=!1}else t.loading=!1,t.dialog=!1}))},removeGradeCriteria:function(){var t=this;this.loading=!0,this.$store.dispatch("removeGradingCriteria",this.delId).then((function(e){t.Deldialog=!1,t.loading=!1}))},_totalPercent:function(t){var e=0;return t.forEach((function(t){e+=parseFloat(t.percentage)})),e}},mounted:function(){this.loading=!0,this.getAllGradeCriteria(),this.loading=!1}};var o=r(72446),s=r.n(o),c=r(70397),d={insert:"head",singleton:!1};s()(c.Z,d);c.Z.locals;const l=(0,r(51900).Z)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("v-breadcrumbs",{staticClass:"ma-0 pa-0 mt-3",attrs:{items:t.items},scopedSlots:t._u([{key:"item",fn:function(e){var i=e.item;return[r("v-breadcrumbs-item",{attrs:{to:{name:i.link},disabled:i.disabled}},[t._v("\n        "+t._s(i.text.toUpperCase())+"\n    ")])]}}])}),t._v(" "),r("h2",[t._v("\n        Grading Criteria\n    ")]),t._v(" "),100!=t._totalPercent(t.get_gradingCriteria)?r("v-btn",{attrs:{bottom:"",color:"primary",dark:"",fab:"",fixed:"",right:""},on:{click:function(e){return t.openAdd()}}},[r("v-icon",[t._v("mdi-plus")])],1):t._e(),t._v(" "),r("v-row",{staticClass:"pt-2",attrs:{align:"center",justify:"center"}},[r("v-col",{attrs:{cols:"12",md:"12"}},[r("v-card",{attrs:{elevation:"2"}},[r("v-simple-table",{scopedSlots:t._u([{key:"default",fn:function(){return[r("thead",[r("tr",[r("th",{staticClass:"text-center"},[t._v("\n                                    Criteria name\n                                ")]),t._v(" "),r("th",{staticClass:"text-center"},[t._v("\n                                    Percentage (%)\n                                ")]),t._v(" "),r("th",{staticClass:"text-center"},[t._v("\n                                    Action\n                                ")])])]),t._v(" "),r("tbody",[t._l(t.get_gradingCriteria,(function(e,i){return r("tr",{key:"get_gradingCriteria"+i},[r("td",{staticClass:"text-center"},[t._v(t._s(e.name))]),t._v(" "),r("td",{staticClass:"text-center"},[t._v(t._s(e.percentage)+"%")]),t._v(" "),r("td",{staticClass:"text-center"},[r("v-btn",{attrs:{icon:"",color:"success"},on:{click:function(r){return t.openEdit(e.name,e.percentage,e.id)}}},[r("v-icon",[t._v("\n                                            mdi-pencil\n                                        ")])],1),t._v(" "),r("v-btn",{attrs:{icon:"",color:"red"},on:{click:function(r){return t.openDelete(e)}}},[r("v-icon",[t._v("\n                                            mdi-delete\n                                        ")])],1)],1)])})),t._v(" "),0!=t.get_gradingCriteria.length?r("tr",[r("td",{staticClass:"text-center"},[r("strong",[t._v("Total")])]),t._v(" "),r("td",{staticClass:"text-center"},[r("strong",[t._v(t._s(t._totalPercent(t.get_gradingCriteria))+"%")])]),t._v(" "),r("td")]):t._e(),t._v(" "),0==t.get_gradingCriteria.length?r("tr",[r("td",{staticClass:"text-center",attrs:{colspan:"3"}},[t._v(" No data available")])]):t._e()],2)]},proxy:!0}])})],1)],1)],1),t._v(" "),r("v-dialog",{attrs:{width:"400px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[r("v-card",[r("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[r("v-card-title",{},[t._v("\n                    Grading Criteria\n                ")]),t._v(" "),r("v-container",[r("v-row",{staticClass:"mx-2"},[r("v-col",{staticClass:"pa-0 ma-0",attrs:{cols:"12"}},[r("v-text-field",{attrs:{rules:t.rules,filled:"",color:"primary",label:"Criteria Name"},model:{value:t.grading_criteria_form.name,callback:function(e){t.$set(t.grading_criteria_form,"name",e)},expression:"grading_criteria_form.name"}})],1),t._v(" "),r("v-col",{staticClass:"pa-0 ma-0",attrs:{cols:"12"}},[r("v-text-field",{attrs:{rules:t.rules,filled:"",color:"primary",label:"Percentage (%)"},model:{value:t.grading_criteria_form.percentage,callback:function(e){t.$set(t.grading_criteria_form,"percentage",e)},expression:"grading_criteria_form.percentage"}})],1)],1)],1),t._v(" "),r("v-card-actions",[r("v-spacer"),t._v(" "),r("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){t.dialog=!1}}},[t._v("Cancel")]),t._v(" "),r("v-btn",{attrs:{disabled:!t.valid,text:""},on:{click:t.validate}},[t._v("\n                        "+t._s("add"==t.type?"Add":"Save"))])],1)],1)],1)],1),t._v(" "),r("v-dialog",{attrs:{persistent:"","max-width":"390"},model:{value:t.Deldialog,callback:function(e){t.Deldialog=e},expression:"Deldialog"}},[r("v-card",[r("v-card-title",[t._v("\n                Are you sure you want to delete this?\n            ")]),t._v(" "),r("v-card-actions",[r("v-spacer"),t._v(" "),r("v-btn",{attrs:{rounded:"",text:""},on:{click:function(e){t.Deldialog=!1}}},[t._v("\n                    No\n                ")]),t._v(" "),r("v-btn",{attrs:{rounded:"",color:"primary",text:""},on:{click:function(e){return t.removeGradeCriteria()}}},[t._v("\n                    Yes\n                ")])],1)],1)],1)],1)}),[],!1,null,"4de85112",null).exports}}]);