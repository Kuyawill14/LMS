"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[6845],{76365:(t,e,i)=>{i.r(e),i.d(e,{default:()=>o});var s=i(87757),a=i.n(s);function n(t,e,i,s,a,n,r){try{var o=t[n](r),l=o.value}catch(t){return void i(t)}o.done?e(l):Promise.resolve(l).then(s,a)}const r={props:["role","UserDetails"],components:{editProfile:function(){return i.e(2932).then(i.bind(i,97813))},changePassword:function(){return i.e(9154).then(i.bind(i,87214))},coursesProgress:function(){return i.e(8378).then(i.bind(i,8864))},myCalendar:function(){return i.e(9198).then(i.bind(i,17640))}},data:function(){return{tab:null,imageFile:"",Details:null,loading:!1,isloading:!0,message:null,type:null,items:[{text:"Dashboard",disabled:!1,link:"courses"},{text:"profile Details",disabled:!0,link:"profile_page"}],isUploading:!1,profile_tabs:[{name:"profile_page",text:"Profile",icon:"mdi-account"},{name:"courses_progress",text:"Courses",icon:"mdi-google-classroom"},{name:"my_calendar",text:"My Calendar",icon:"mdi-calendar"},{name:"change_password",text:"Change Password",icon:"mdi-lock"}],tmpProfile:null,inputPreview:""}},methods:{toastSuccess:function(){return this.$toasted.success("Profile Successfully Updated",{theme:"toasted-primary",position:"top-center",icon:"done",duration:3e3})},getUserDetails:function(){var t=this;axios.get("/api/profile/details").then((function(e){t.UserDetails=e.data[0],t.UserDetails.profile_pic="/storage/"+t.UserDetails.profile_pic,t.isloading=!t.isloading})).catch((function(t){}))},TestUpload:function(){this.$refs.fileInput.click()},onFileChange:function(t){this.imageFile=t.target.files[0],this.imageFile.size<=1e6?(this.isUploading=!0,this.tmpProfile=this.UserDetails.profile_pic,this.UserDetails.profile_pic=URL.createObjectURL(this.imageFile)):this.toastError("The File is more than 1mb")},UpdateProfile:function(){var t,e=this;return(t=a().mark((function t(){var i;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(i=new FormData).append("file",e.imageFile),axios.post("/api/profile/profile_picture",i).then((function(t){e.toastSuccess("Profile picture successfully updated"),e.isUploading=!1})).catch((function(t){e.UserDetails.profile_pic=e.tmpProfile,e.toastError(t.response.data.errors.file[2]),e.isUploading=!1}));case 3:case"end":return t.stop()}}),t)})),function(){var e=this,i=arguments;return new Promise((function(s,a){var r=t.apply(e,i);function o(t){n(r,s,a,o,l,"next",t)}function l(t){n(r,s,a,o,l,"throw",t)}o(void 0)}))})()},OpenSocialAccount:function(t){window.location=t},getImageDimensions:function(t){return new Promise((function(e,i){t.onload=function(t){var i=this.width,s=this.height;e({height:s,width:i})}}))},compressImage:function(t,e,i,s){return new Promise((function(a,n){var r=document.createElement("canvas");r.width=e*i,r.height=e*s;var o=r.getContext("2d");o.drawImage(t,0,0,r.width,r.height),o.canvas.toBlob((function(t){a(t)}),"image/png")}))}},mounted:function(){this.isloading=!this.isloading}};const o=(0,i(51900).Z)(r,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("v-breadcrumbs",{staticClass:"ma-0 pa-0 mt-1 mb-2",attrs:{items:t.items},scopedSlots:t._u([{key:"item",fn:function(e){var s=e.item;return[i("v-breadcrumbs-item",{attrs:{to:{name:s.link},disabled:s.disabled}},[t._v("\n                "+t._s(s.text.toUpperCase())+"\n            ")])]}}])}),t._v(" "),t.isloading?i("v-container",{staticStyle:{height:"400px"}},[i("v-row",{staticClass:"fill-height",attrs:{"align-content":"center",justify:"center"}},[i("v-icon",{staticStyle:{"font-size":"10rem"}},[t._v("\n                    mdi-account\n                ")]),t._v(" "),i("v-col",{staticClass:"text-subtitle-1 text-center",attrs:{cols:"12"}},[i("h3",[t._v(" Loading Profile ")])]),t._v(" "),i("v-col",{attrs:{cols:"6"}},[i("v-progress-linear",{attrs:{color:"primary",indeterminate:"",rounded:"",height:"6"}})],1)],1)],1):t._e(),t._v(" "),t.isloading?t._e():i("v-row",{attrs:{"no-gutters":""}},[i("v-col",{attrs:{cols:"12",md:"3",lg:"3",xl:"2"}},[i("v-card",{staticClass:"pt-5",attrs:{elevation:t.$vuetify.breakpoint.lgAndUp?1:0,outlined:t.$vuetify.breakpoint.lgAndUp}},[i("v-row",[i("v-col",{staticClass:"mb-0 pb-0 d-flex justify-center",attrs:{cols:"12"}},[i("v-badge",{attrs:{bordered:"",bottom:"",color:"green",dot:"","offset-x":"23","offset-y":"10"}},[i("v-avatar",{attrs:{size:"80"},on:{click:function(e){return t.TestUpload()}}},[i("v-hover",{scopedSlots:t._u([{key:"default",fn:function(e){var s=e.hover;return[i("div",[i("v-avatar",{staticStyle:{cursor:"pointer"},attrs:{size:"80"}},[i("v-img",{attrs:{alt:"Proflie",src:null==t.UserDetails.profile_pic||""==t.UserDetails.profile_pic?"https://ui-avatars.com/api/?background=0D8ABC&color=fff&name="+t.UserDetails.firstName+" "+t.UserDetails.lastName:t.UserDetails.profile_pic}},[t.isUploading?i("v-row",{staticClass:"fill-height ma-0",attrs:{align:"center",justify:"center"}},[i("v-progress-circular",{attrs:{indeterminate:"",color:"grey lighten-5"}})],1):t._e()],1)],1),t._v(" "),i("v-fade-transition",[s?i("v-overlay",{staticStyle:{cursor:"pointer"},attrs:{absolute:"",color:"#212121"}},[i("div",{},[i("v-icon",{attrs:{small:""}},[t._v("mdi-camera")]),t._v(" "+t._s(t.isUploading?"Uploading":"Update")+" ")],1)]):t._e()],1)],1)]}}],null,!1,1865174112)})],1)],1),t._v(" "),i("input",{ref:"fileInput",staticClass:"d-none",attrs:{disabled:t.isUploading,type:"file",id:"image-input",accept:"image/jpeg"},on:{change:t.onFileChange}})],1),t._v(" "),i("v-col",{staticClass:"mb-0 pb-0 mt-0 pt-0 d-flex justify-center",attrs:{cols:"12"}},[i("h3",{staticClass:"font-weight-bold"},[t._v(t._s(t.UserDetails.firstName+" "+t.UserDetails.lastName))])]),t._v(" "),i("v-col",{staticClass:"mb-0 pb-0 mt-0 pt-0 d-flex justify-center",attrs:{cols:"12"}},[i("div",{staticClass:"grey--text font-italic"},[t._v(t._s(t.UserDetails.email))])])],1),t._v(" "),i("v-row",[i("v-col",{staticClass:"pl-5 pr-5 pb-0",attrs:{cols:"12"}},[i("v-divider")],1),t._v(" "),i("v-col",{staticClass:"pl-3",attrs:{cols:"12"}},[i("v-tabs",{staticClass:"mt-2",attrs:{height:t.$vuetify.breakpoint.mdAndUp?"":"40","show-arrows":"","icons-and-text":!t.$vuetify.breakpoint.mdAndUp,centered:!t.$vuetify.breakpoint.mdAndUp,vertical:t.$vuetify.breakpoint.mdAndUp},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},t._l(t.profile_tabs,(function(e,s){return i("v-tab",{key:s,staticClass:"d-flex justify-start",attrs:{to:{name:e.name}},on:{click:function(i){t.items[1].text=e.text}}},[t.$vuetify.breakpoint.mdAndUp?i("v-icon",{attrs:{left:""}},[t._v(" "+t._s(e.icon))]):t._e(),t._v("\n                                     "+t._s(e.text)+"\n                                     "),t.$vuetify.breakpoint.mdAndUp?t._e():i("v-icon",{attrs:{small:""}},[t._v(" "+t._s(e.icon))])],1)})),1)],1)],1)],1)],1),t._v(" "),i("v-col",{class:t.$vuetify.breakpoint.mdAndUp?"":"pt-5",attrs:{cols:"12",md:"9",lg:"9",xl:"10"}},[i("v-card",{class:t.$vuetify.breakpoint.mdAndUp?"pb-3 pl-5 pr-5":"pb-3",attrs:{elevation:"0"}},[i("v-row",[i("v-col",{attrs:{cols:"12"}},[i("v-tabs-items",{attrs:{value:t.tab}},[i("router-view",{attrs:{UserDetails:t.UserDetails,role:t.role}})],1)],1)],1)],1)],1)],1)],1)}),[],!1,null,null,null).exports}}]);