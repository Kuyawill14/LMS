(self.webpackChunk=self.webpackChunk||[]).push([[1701],{7786:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i});var r=s(3645),n=s.n(r)()((function(e){return e[1]}));n.push([e.id,".v-input__slot{margin-bottom:0!important}",""]);const i=n},1701:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o});function r(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function n(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const i={props:["role"],data:function(){return{Deldialog:!1,dialog:!1,temp_id:"",loading:!0,type:"",search:"",grading_criteria_form:{},grading_criteria:{},course_id:"",delId:"",studentSubModuleProgress:[],totalTimeSpent:0,students:[],classList:[],selectedClass:[],items:[{text:"Course",disabled:!1,link:"courses"},{text:"Teacher"==this.role?"Student Progress":"My Progress ",disabled:!0,link:"studentProgress"}]}},computed:function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?r(Object(s),!0).forEach((function(t){n(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):r(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},(0,s(629).Se)(["getmain_module","getSub_module","getAll_sub_module","getStudentMainModuleProgress","SubModuleProgress","allClass"])),methods:{convertTime:function(e){return new Date(1e3*parseInt(e)).toISOString().substr(11,8)},checkTimeSpent:function(e,t){return e>=t?"green":"red"},getTotalCompleted:function(e){for(var t=0,s=0,r=0;r<e.length;r++)t+=e[r].completed,s+=e[r].sub_module_length;return t+"/"+s},getTotalPercent:function(e){for(var t=0,s=0,r=0,n=0;n<e.length;n++)t+=e[n].completed,s+=e[n].sub_module_length;return r=t/s*100,isNaN(r)&&(r=0),console.log("NAN bf",r),parseFloat(r.toFixed(2))},_mainTotalRequiredTimeSeconds:function(){for(var e=0,t=this.getAll_sub_module,s=0;s<t.length;s++)e+=parseFloat(t[s].required_time);return e},_mainTotalRequiredTime:function(){for(var e=0,t=this.getAll_sub_module,s=0;s<t.length;s++)e+=parseFloat(t[s].required_time);return this.convertTime(e)},_totalRequiredTime:function(e){for(var t=0,s=this.getSub_module(e),r=0;r<s.length;r++)t+=parseFloat(s[r].required_time);return this.convertTime(t)},_totalTimeSpent:function(e){var t=0;return e.forEach((function(e){t+=parseFloat(e.time_spent)})),t},getProgress:function(e,t){SubModuleProgress(main_module.id,main.student_id)[0]},fetchStudentModuleProgress:function(){var e=this;axios.get("/api/student_sub_module/all/".concat(this.$route.params.id)).then((function(t){e.studentSubModuleProgress=t.data})),this.$store.dispatch("fetchMainModule",this.$route.params.id),this.$store.dispatch("fetchSubModule",this.$route.params.id),this.$store.dispatch("studentSubProgress",this.$route.params.id)},getStudentList:function(){var e=this;this.loading=!0,axios.get("/api/student/all_by_class/"+this.selectedClass).then((function(t){e.students=t.data})).catch((function(e){console.log(e)})),this.$store.dispatch("studentMainProgress",this.selectedClass).then((function(){e.loading=!1}))},getClassList:function(){var e=this;this.$store.dispatch("fetchSubjectCourseClassList",this.$route.params.id).then((function(){e.classList=e.allClass,e.selectedClass=e.classList[0].class_id,e.getStudentList(),e.loading=!1}))}},mounted:function(){this.loading=!0,this.fetchStudentModuleProgress(),this.getClassList(),this.loading=!1}};s(8128);const o=(0,s(1900).Z)(i,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-breadcrumbs",{staticClass:"ma-0 pa-0 mt-3",attrs:{items:e.items},scopedSlots:e._u([{key:"item",fn:function(t){var r=t.item;return[s("v-breadcrumbs-item",{attrs:{to:{name:r.link},disabled:r.disabled}},[e._v("\n        "+e._s(r.text.toUpperCase())+"\n    ")])]}}])}),e._v(" "),s("v-row",{staticClass:"pt-1"},[s("v-col",{attrs:{cols:"6"}},[s("h2",[e._v("\n                "+e._s("Teacher"==e.role?"Student Progress":"My Progress")+"\n            ")])]),e._v(" "),"Teacher"==e.role?s("v-col",{attrs:{cols:"6"}},[s("v-select",{staticClass:"float-right",attrs:{items:e.classList,"item-text":"class_name","item-value":"class_id",label:"Select Class"},on:{change:function(t){return e.getStudentList()}},model:{value:e.selectedClass,callback:function(t){e.selectedClass=t},expression:"selectedClass"}})],1):e._e()],1),e._v(" "),s("v-row",{staticClass:"pt-2"},[s("v-col",[s("v-card",[s("v-tabs",{attrs:{color:"deep-purple accent-4",right:""}},["Teacher"==e.role?s("v-tab",{attrs:{href:"#all"}},[e._v("\n                        All\n                    ")]):e._e(),e._v(" "),e._l(e.getmain_module,(function(t,r){return s("v-tab",{key:r},[e._v("\n                        "+e._s(t.module_name)+"\n                    ")])})),e._v(" "),e._l(e.getmain_module,(function(t,r){return s("v-tab-item",{key:r},[s("v-card-title",[e._v("\n                            "+e._s(t.module_name)+"\n\n                            "),s("v-spacer")],1),e._v(" "),s("v-simple-table",{scopedSlots:e._u([{key:"default",fn:function(){return[s("thead",[s("tr",["Teacher"==e.role?s("th",{staticClass:"text-center"},[e._v("\n                                            Student Name\n                                        ")]):e._e(),e._v(" "),e._l(e.getSub_module(t.id),(function(t,r){return s("th",{key:r,staticClass:"text-center"},[e._v("\n                                            "+e._s(t.sub_module_name)+"\n                                            "),s("br"),e._v("("+e._s(e.convertTime(t.required_time))+")\n                                        ")])})),e._v(" "),s("th",{staticClass:"text-center"},[e._v("\n                                            Total Time Spent "),s("br"),e._v("\n                                            ("+e._s(e._totalRequiredTime(t.id))+")\n                                        ")])],2)]),e._v(" "),s("tbody",[s("tr",[e._l(e.SubModuleProgress(t.id,e.student.id),(function(t,r){return s("td",{key:r,staticClass:"text-center"},[s("v-chip",{attrs:{color:e.checkTimeSpent(t.time_spent,t.required_time),"text-color":"white"}},[e._v("\n                                                "+e._s(e.convertTime(t.time_spent))+"\n                                            ")])],1)})),e._v(" "),s("td",{staticClass:"text-center"},[e._v("\n                                            "+e._s(e.convertTime(e._totalTimeSpent(e.SubModuleProgress(t.id,e.student.id))))+"\n                                        ")])],2)])]},proxy:!0}],null,!0)})],1)}))],2)],1)],1)],1)],1)}),[],!1,null,"318694e3",null).exports},8128:(e,t,s)=>{var r=s(7786);r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals);(0,s(5346).Z)("48ac89d4",r,!0,{})}}]);