"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[463],{89849:(e,t,r)=>{r.d(t,{Z:()=>i});var o=r(1519),n=r.n(o)()((function(e){return e[1]}));n.push([e.id,".course-banner{background-repeat:no-repeat;background-size:cover;color:#fff}.top-container{position:relative}.top-container,.ttr-wrapper{padding-left:0!important;padding-right:0!important}.ttr-wrapper{min-height:900px;padding-top:59px!important}.transparent{background:transparent;border:none}.card-top{color:#fff!important}.btn_courseback{background-color:transparent!important;border-radius:2.7rem/100%;box-shadow:0 2.8px 2.2px rgba(0,0,0,.034),0 6.7px 5.3px rgba(0,0,0,.048),0 12.5px 10px rgba(0,0,0,.06),0 22.3px 17.9px rgba(0,0,0,.072);font-weight:bolder;max-width:50vw;min-width:6rem;transition:.3s}.btn_courseback:hover{background-color:#f7b205!important}.fullbleed-scoped-only{background-color:#000;bottom:0;position:absolute;top:0;width:100%}",""]);const i=n},6476:(e,t,r)=>{r.r(t),r.d(t,{default:()=>h});var o=r(20629),n=r(9669),i=r.n(n);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const l={props:["role","UserDetails"],components:{selectBackgroundDialog:function(){return r.e(7844).then(r.bind(r,57844))}},data:function(){return{courseInfo:[],isloading:!0,course_id:"",fullPage:!0,class_id:"",routeName:"",showCard:!0,dialog:!1,path:window.origin+"/storage/",rules:[function(e){return!e||e.size<2e6||"Avatar size should be less than 2 MB!"}],previewUploaded:!1,filePreview:null,file:null,isChanging:!1}},computed:s(s({},(0,o.Se)(["getcourseInfo"])),{},{saveClassId:function(e){"Student"==this.role&&i().get("/api/class/selectedClass/"+e).then((function(e){return e.data}))}}),watch:{$route:function(e,t){this.hideCard()}},methods:s(s({hideCard:function(){this.routeName=this.$route.matched[2].name,"student-modules"==this.routeName||"modules-preview"==this.routeName||"courseSetup"==this.routeName?this.showCard=!1:this.showCard=!0}},(0,o.nv)(["fetchScourse"])),{},{disconnect:function(){window.Echo.leave("post."+this.$route.params.id)},GoBackToMycourse:function(){"Student"==this.role?this.$router.push({path:"/c"}):"Teacher"==this.role&&this.$router.push({path:"/courses"}),this.disconnect()},UpdateImage:function(e){this.isChanging=!1,this.dialog=!this.dialog,this.getcourseInfo.course_picture=e;var t=new FormData;t.append("type","from_file"),t.append("course_id",this.getcourseInfo.id),t.append("file_name",e),i().post("/api/teacher/change_class_picture",t).then((function(){}))},onfileChange:function(e){if(e){this.file=e,this.isChanging=!0,this.filePreview=URL.createObjectURL(e);this.SaveImageAsBackground(e,"Uploaded")}},SaveImageAsBackground:function(e){var t=new FormData;t.append("type","uploaded"),t.append("course_id",this.getcourseInfo.id),t.append("file_name",this.file.name),t.append("file",this.file),i().post("/api/teacher/change_class_picture",t).then((function(){}))},CheckBackgroundPath:function(e){if(null!=e)return e.includes("https://orangestr.sgp1.cdn.digitaloceanspaces.com")?e:"../../images/"+e}}),mounted:function(){var e=this;this.hideCard(),this.isloading=!0,this.course_id=this.$route.params.id,this.routeName=this.$route.matched[2].name,this.$store.dispatch("fetchScourse",this.course_id),setInterval((function(){return e.isloading=!1}),1e3)}};var u=r(72446),d=r.n(u),p=r(89849),g={insert:"head",singleton:!1};d()(p.Z,g);p.Z.locals;const h=(0,r(51900).Z)(l,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e.showCard?r("v-card",[r("v-img",{staticClass:"white--text align-end",attrs:{eager:"",src:e.isChanging?e.filePreview:e.CheckBackgroundPath(e.getcourseInfo.course_picture),gradient:"to bottom, rgba(0,0,0,.1), rgba(0,0,0,.5)",height:"150px","aspect-ratio":"2"},scopedSlots:e._u([{key:"placeholder",fn:function(){return[r("v-row",{staticClass:"fill-height ma-0",attrs:{align:"center",justify:"center"}},[r("v-progress-circular",{attrs:{indeterminate:"",color:"grey lighten-5"}})],1)]},proxy:!0}],null,!1,4034393411)},[e._v(" "),"Teacher"==e.role?r("v-app-bar",{attrs:{flat:"",color:"rgba(0, 0, 0, 0)"}},[r("v-spacer"),e._v(" "),r("v-menu",{attrs:{transition:"slide-y-transition",bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on,n=t.attrs;return[r("v-btn",e._g(e._b({staticClass:"float-right mt-4",attrs:{icon:"",color:"white"}},"v-btn",n,!1),o),[r("v-icon",[e._v("\n                                mdi-dots-vertical\n                            ")])],1)]}}],null,!1,2351045127)},[e._v(" "),r("v-list",[r("v-list-item",{attrs:{link:""},on:{click:function(t){e.dialog=!e.dialog}}},[r("v-list-item-title",[e._v("Select background")])],1),e._v(" "),r("v-list-item",{attrs:{link:""},on:{click:function(t){return e.$refs.UploadBackground.$refs.input.click()}}},[r("v-list-item-title",[e._v("Upload photo")])],1)],1)],1)],1):e._e(),e._v(" "),r("v-card-title",{staticClass:"text-lg-h5",domProps:{textContent:e._s(e.getcourseInfo.course_code+" - "+e.getcourseInfo.course_name)}}),e._v(" "),r("v-card-subtitle",{staticClass:"white--text"},[e._v("Instructor: "+e._s(e.getcourseInfo.name)+"\n\n                "),r("br"),e._v("\n                Google Meet: "),r("a",{attrs:{link:"",href:e.getcourseInfo.v_classroom_link,target:"_blank"}},[e._v(e._s(e.getcourseInfo.v_classroom_link))])]),e._v(" "),null!=e.getcourseInfo.course_guide?r("v-btn",{staticStyle:{position:"absolute","z-index":"999",bottom:"15px",right:"14px"},attrs:{depressed:"",color:"primary",small:"",target:"_blank",href:e.path+e.getcourseInfo.course_guide}},[r("v-icon",{attrs:{left:"",dark:""}},[e._v("\n                        mdi-cloud-download\n                    ")]),e._v("\n                    Course Guide\n                ")],1):e._e()],1)],1):e._e(),e._v(" "),r("router-view",{attrs:{role:e.role,getcourseInfo:e.getcourseInfo,UserDetails:e.UserDetails}}),e._v(" "),r("v-dialog",{attrs:{scrollable:"",persistent:"","max-width":"800"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[e.dialog?r("selectBackgroundDialog",{on:{SaveSelected:e.UpdateImage,CloseDialog:function(t){e.dialog=!e.dialog}}}):e._e()],1),e._v(" "),r("v-file-input",{ref:"UploadBackground",staticClass:"d-none",attrs:{rules:e.rules,accept:"image/png, image/jpeg, image/bmp"},on:{change:e.onfileChange}})],1)}),[],!1,null,null,null).exports}}]);