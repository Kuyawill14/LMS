"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[6038],{34950:(e,t,n)=>{n.d(t,{Z:()=>a});var s=n(1519),l=n.n(s)()((function(e){return e[1]}));l.push([e.id,".centered-input[data-v-7dfb8470] input{text-align:center}",""]);const a=l},6038:(e,t,n)=>{n.r(t),n.d(t,{default:()=>u});var s=n(9669),l=n.n(s);const a={data:function(){return{json_users_text_area:null}},methods:{readFile:function(e){var t=this,n=new FileReader;n.onload=function(e){for(var n=e.target.result.replaceAll("\r","").split("\n"),s=[],l=(s=[],/,(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/g),a=/^"(.*)"$/g,i=n[0].split(l).map((function(e){return e.replace(a,"$1")})),r=1;r<n.length;r++){for(var o={},c=n[r].split(l),u=0;u<i.length;u++)o[i[u]]=c[u].replace(a,"$1");s.push(o)}t.json_users_file=s,console.log(t.json_users_file)},n.readAsText(e)},readFile1:function(e){for(var t=e.split("\n"),n=[],s=/,(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/g,l=/^"(.*)"$/g,a=t[0].split(s).map((function(e){return e.replace(l,"$1")})),i=1;i<t.length;i++){for(var r={},o=t[i].split(s),c=0;c<a.length;c++)r[a[c]]=o[c].replace(l,"$1");n.push(r)}this.json_users_file=n},onFileChange:function(e){null!=e?this.readFile(e):this.json_users_file=null},upload:function(){var e=this;null!=this.json_users_file?l().post("/api/vaccination/upload",{users:this.json_users_file}).then((function(t){e.toastSuccess("Uploaded Successfully")})).catch((function(t){console.log(t),e.toastError("Something went wrong!. Please refresh the page and try again.")})):this.toastInfo("Please select a file first")}},mounted:function(){}};var i=n(72446),r=n.n(i),o=n(34950),c={insert:"head",singleton:!1};r()(o.Z,c);o.Z.locals;const u=(0,n(51900).Z)(a,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-container",{staticStyle:{width:"800px"}},[n("h2",{staticClass:"text-center"},[e._v("Bulk add Student's Vaccination Status")]),e._v(" "),n("br"),e._v(" "),n("v-card",{staticClass:"px-4",attrs:{flat:"",elevation:"2"}},[n("v-row",[n("v-col",{attrs:{lg:"9",md:"8",xs:"6"}},[n("v-file-input",{attrs:{accept:".csv","prepend-inner-icon":"mdi-file-outline","prepend-icon":"",chips:"",outlined:"",label:"Upload CSV File",disabled:null!=e.json_users_text_area},on:{change:e.onFileChange}})],1),e._v(" "),n("v-col",[n("v-btn",{attrs:{"x-large":""},on:{click:function(t){return e.upload()}}},[n("v-icon",[e._v("mdi-upload")]),e._v(" Upload\n                    ")],1)],1)],1)],1)],1)],1)}),[],!1,null,"7dfb8470",null).exports}}]);