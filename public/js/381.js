"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[381],{8671:(t,s,e)=>{e.d(s,{Z:()=>n});var i=e(1519),a=e.n(i)()((function(t){return t[1]}));a.push([t.id,".centered-input>>>input{text-align:center}.ql-editor img{max-height:15rem!important}.ql-container{max-height:50rem}",""]);const n=a},381:(t,s,e)=>{e.r(s),e.d(s,{default:()=>l});const i={data:function(){return{isloading:!0,isAdding:!1,isLeaving:!1,inputIndex:"",checker:"",pair1:null,pair2:null,testDetails:"",selectedImage:[],valid:!1,tempAnswer:null,inputCheck:["True","False"],temp_id:"",checked:!1,ShowAdd:!0,check:!0,finalData:{},quesForm:{question:"",answer:"",points:0,Required:!1,Sensitive:!1,type:"Multiple Choice"},form:[{answer:""}],MatchQuestion:[{question:"",answer:""}],rules:[function(t){return!!t||"required"}],PointsRule:[function(t){return!!t||"required"},function(t){return t&&0!=t||"Must assign atleast 1 points"}],Imagerules:[function(t){return!t||t.size<5e6||"Avatar size should be less than 5 MB!"}],options:{modules:{toolbar:[["bold","italic","underline","strike"],[{list:"bullet"}],["image"]]}}}},methods:{onFileChange:function(t){var s=this;if(""!=this.selectedImage[this.inputIndex]){var e=t,i=new FileReader;i.onloadend=function(t){s.form[s.inputIndex].answer='<div><img src="'+i.result+'"></div>'},i.readAsDataURL(e),this.checker="Success"}},validateChoice:function(){this.$refs.Choice.validate(),this.add()},validate:function(){this.$refs.form.validate(),this.AddQuestion()},add:function(){0==this.form.length||""!=this.form[this.form.length-1].answer?(this.check=!0,this.form.push({answer:""})):this.check=!1},remove:function(t){this.form.splice(t,1)},addNewMatch:function(){this.quesForm.points++,this.MatchQuestion.push({question:"",answer:""})},removeMatch:function(t){this.MatchQuestion.splice(t,1)},AddQuestion:function(){var t=this;this.isAdding=!0,"Multiple Choice"==this.quesForm.type?this.form.length>=2&&""!=this.quesForm.answer&&0!=this.quesForm.points?(this.finalData.ansLength=this.form.length,this.finalData.clw=this.$route.query.clwk,this.finalData.questions=this.quesForm,this.finalData.answers=this.form,this.$store.dispatch("addQuestions",this.finalData).then((function(s){1==s.data.success?(t.toastSuccess(s.data.message),t.CallReset(),t.isAdding=!1):(t.toastError(s.data.message),t.isAdding=!1)}))):""==this.quesForm.question?(this.toastError("Question is required!"),this.isAdding=!1):0==this.quesForm.points?(this.toastError("You must atleast allocate one points to this question!"),this.isAdding=!1):""==this.quesForm.answer?(this.toastError("You must atleast write/pick one answer"),this.isAdding=!1):(this.toastError("You must atleast enter two choices"),this.isAdding=!1):"Identification"==this.quesForm.type||"True or False"==this.quesForm.type?""!=this.quesForm.answer&&0!=this.quesForm.points?(this.finalData.ansLength=this.form.length,this.finalData.clw=this.$route.query.clwk,this.finalData.questions=this.quesForm,this.finalData.answers=this.form,this.$store.dispatch("addQuestions",this.finalData).then((function(s){1==s.data.success?(t.toastSuccess(s.data.message),t.CallReset(),t.isAdding=!1):(t.toastError(s.data.message),t.isAdding=!1)}))):(this.toastError("You must atleast write/pick one answer"),this.isAdding=!1):"Matching type"==this.quesForm.type&&(this.quesForm.answer="Matching Type",this.finalData.ansLength=this.MatchQuestion.length,this.finalData.clw=this.$route.query.clwk,this.finalData.questions=this.quesForm,this.finalData.answers=this.MatchQuestion,this.$store.dispatch("addQuestions",this.finalData).then((function(s){1==s.data.success?(t.toastSuccess(s.data.message),t.CallReset(),t.isAdding=!1):(t.toastError(s.data.message),t.isAdding=!1)})))},CallReset:function(){if(this.$refs.form.resetValidation(),this.quesForm.question="",this.quesForm.answer="",this.quesForm.points=0,"Multiple Choice"==this.quesForm.type)for(var t=0;t<this.form.length;t++)this.form[t].answer="",this.selectedImage[t]="";if("Matching type"==this.quesForm.type)for(var s=0;s<this.MatchQuestion.length;s++)this.MatchQuestion[s].question="",this.MatchQuestion[s].answer=""}},created:function(){this.isloading=!this.isloading},beforeRouteLeave:function(t,s,e){this.isLeaving=!0,e()}};var a=e(2446),n=e.n(a),r=e(8671),o={insert:"head",singleton:!1};n()(r.Z,o);r.Z.locals;const l=(0,e(1900).Z)(i,(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"pa-1"},[e("v-overlay",{attrs:{value:t.isLeaving}},[e("v-progress-circular",{attrs:{indeterminate:"",size:"64"}})],1),t._v(" "),t.isloading?e("v-container",{staticClass:"fill-height",staticStyle:{height:"500px"}},[e("v-row",{attrs:{"align-content":"center",justify:"center"}},[e("v-col",{staticClass:"text-subtitle-1 text-center",attrs:{cols:"12"}},[t._v("\r\n            Loading\r\n        ")]),t._v(" "),e("v-col",{attrs:{cols:"6"}},[e("v-progress-linear",{attrs:{color:"primary",indeterminate:"",rounded:"",height:"6"}})],1)],1)],1):t._e(),t._v(" "),t.isloading?t._e():e("v-container",{staticClass:"pa-0 ma-0",attrs:{"pa-0":"","ma-0":"",fluid:""}},[e("v-row",{attrs:{align:"center",justify:"center"}},[e("v-col",{attrs:{cols:"12",md:"8",lg:"9",xl:"9"}},[e("v-card",{staticClass:"pa-3",attrs:{elevation:"1",outlined:""}},[e("v-window",[e("v-window-item",[e("vue-element-loading",{attrs:{active:t.isAdding,text:"Adding...",spinner:"bar-fade-scale"}}),t._v(" "),e("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(s){t.valid=s},expression:"valid"}},[e("v-row",[t.ShowAdd?e("v-col",{staticClass:"pl-7 pr-9 pt-10",attrs:{cols:"12",md:"12"}},[e("v-row",{staticClass:"pa-0 ma-0",attrs:{"mb-0":"","pb-0":""}},[e("v-col",{staticClass:"pa-0 ma-0",attrs:{cols:"3",md:"1",lg:"1"}},[e("v-text-field",{staticClass:"centered-input pa-0 ma-0",attrs:{min:"0",rules:t.PointsRule,outlined:"",type:"number",label:"Points"},model:{value:t.quesForm.points,callback:function(s){t.$set(t.quesForm,"points",s)},expression:"quesForm.points"}})],1),t._v(" "),e("v-col",{staticClass:"pa-0 ma-0 pl-2 pl-sm-0 text-right",attrs:{cols:"9",md:"11",lg:"11"}},[e("v-select",{staticClass:"pa-0 ma-0 float-right",attrs:{items:["Multiple Choice","Identification","True or False","Matching type"],outlined:"",label:"Question Type"},model:{value:t.quesForm.type,callback:function(s){t.$set(t.quesForm,"type",s)},expression:"quesForm.type"}})],1)],1),t._v(" "),e("v-container",{staticClass:"pa-0 ma-0",attrs:{"ma-0":"","pa-0":""}},[e("div",{staticClass:"font-weight-medium"},[t._v(t._s("Matching type"!=t.quesForm.type?"Question":"Instuction"))]),t._v(" "),e("v-row",{staticClass:"pa-0 ma-0"},[e("v-col",{staticClass:"pa-0 ma-0 mt-2 mb-2",attrs:{cols:"12"}},[e("div",{staticClass:"mb-3",staticStyle:{width:"100%"}},[e("editor",{staticClass:"outlined",attrs:{required:"",rules:t.rules,id:"editor-container",placeholder:"Question",theme:"snow",options:t.options},model:{value:t.quesForm.question,callback:function(s){t.$set(t.quesForm,"question",s)},expression:"quesForm.question"}}),t._v(" "),t.valid||""!=t.quesForm.question?t._e():e("small",{staticClass:"error--text"},[t._v("*This field is required")])],1)])],1)],1),t._v(" "),"Multiple Choice"==t.quesForm.type?e("v-container",[e("v-row",[e("div",{staticClass:"font-weight-medium"},[t._v("Options")]),t._v(" "),t._l(t.form,(function(s,i){return e("v-col",{key:i,staticClass:"ma-0 pa-0 ml-2 mt-1",attrs:{cols:"12",lg:"12",md:"12"}},[e("v-row",[e("v-col",{attrs:{cols:"12",lg:"12",md:"12"}},[e("v-container",{staticClass:"d-flex flex-row ma-0 pa-0"},[e("v-radio-group",{attrs:{rules:t.rules},model:{value:t.quesForm.answer,callback:function(s){t.$set(t.quesForm,"answer",s)},expression:"quesForm.answer"}},[e("v-radio",{key:i,staticClass:"pa-0 ma-0",attrs:{color:"primary",disabled:0==s.answer.length,name:"Answer",value:s.answer},on:{click:function(e){t.tempAnswer=s.answer}}})],1),t._v(" "),e("div",{staticClass:"mb-3",staticStyle:{width:"100%"}},[e("editor",{attrs:{rules:t.rules,id:"editor-container",placeholder:"Option "+(i+1),theme:"snow",options:t.options},on:{change:function(e){t.checker=s.answer}},model:{value:s.answer,callback:function(e){t.$set(s,"answer",e)},expression:"item.answer"}})],1),t._v(" "),e("v-btn",{staticClass:"mt-2 pl-2 pr-2",attrs:{icon:""},on:{click:function(e){s.answer==t.quesForm.answer?(t.remove(i),t.quesForm.answer=""):(t.remove(i),t.quesForm.answer=t.tempAnswer)}}},[e("v-icon",[t._v("mdi-delete")])],1)],1)],1)],1)],1)})),t._v(" "),e("v-col",{staticClass:"pa-0 ma-0 text-right",attrs:{cols:"12",md:"12",lg:"12"}},[e("v-btn",{staticClass:"mt-2 mb-0 pb-0",attrs:{disabled:0==t.checker.length&&t.form.length>=1,rounded:"",color:"primary"},on:{click:function(s){t.add(),t.checker=""}}},[e("v-icon",{attrs:{dark:"",left:"",large:""}},[t._v("mdi-plus")]),t._v("\r\n                                            Add Choice\r\n                                            ")],1)],1)],2)],1):t._e(),t._v(" "),"Identification"==t.quesForm.type?e("v-container",[e("v-row",{attrs:{"ma-0":"","pa-0":""}},[e("div",{staticClass:"font-weight-medium"},[t._v("Answer")]),t._v(" "),e("v-col",{staticClass:"ma-0 pa-0 mt-2",attrs:{"ma-0":"","pa-0":"",cols:"12"}},[e("div",{staticClass:"mb-3",staticStyle:{width:"100%"}},[e("editor",{attrs:{rules:t.rules,id:"editor-container",placeholder:"Answer",theme:"snow",options:t.options},model:{value:t.quesForm.answer,callback:function(s){t.$set(t.quesForm,"answer",s)},expression:"quesForm.answer"}})],1)])],1)],1):t._e(),t._v(" "),"True or False"==t.quesForm.type?e("v-container",{staticClass:"ma-0 pa-0 mt-2 pl-3 pr-4"},[e("v-row",[e("v-col",{staticClass:"pl-0 ml-0",attrs:{cols:"12"}},[e("div",{staticClass:"font-weight-medium"},[t._v("Options")])]),t._v(" "),t._l(t.inputCheck,(function(s,i){return e("v-col",{key:i,staticClass:"ma-0 pa-0",attrs:{cols:"11"}},[e("v-container",{staticClass:"d-flex flex-row ma-0 pa-0"},[e("v-radio-group",{attrs:{rules:t.rules},model:{value:t.quesForm.answer,callback:function(s){t.$set(t.quesForm,"answer",s)},expression:"quesForm.answer"}},[e("v-radio",{key:i,attrs:{color:"primary",name:"Answer",value:t.inputCheck[i]}})],1),t._v(" "),e("v-textarea",{staticClass:"pa-0 ma-0",attrs:{readonly:"",rows:"1",outlined:"",value:t.inputCheck[i],"auto-grow":"",required:""}})],1)],1)}))],2)],1):t._e(),t._v(" "),"Matching type"==t.quesForm.type?e("v-container",{attrs:{"mb-0":"","pb-0":""}},[e("v-row",{attrs:{"ma-0":"","pa-0":""}},[t._l(t.MatchQuestion,(function(s,i){return e("v-col",{key:i,staticClass:"ma-0 pa-0",attrs:{"ma-0":"","pa-0":"",cols:"12"}},[e("v-row",[e("v-col",{attrs:{cols:"12"}},[e("div",{staticClass:"font-weight-medium"},[t._v(t._s("Pair ")+t._s(i+1))]),t._v(" "),e("v-container",{staticClass:"d-flex flex-row ma-0 pa-0"},[e("div",{staticClass:" pr-2 mb-3",staticStyle:{width:"100%"}},[e("editor",{attrs:{rules:t.rules,id:"editor-container",placeholder:"Question "+(i+1),theme:"snow",options:t.options},on:{change:function(e){t.pair1=s.question}},model:{value:s.question,callback:function(e){t.$set(s,"question",e)},expression:"item.question"}})],1),t._v(" "),e("div",{staticClass:"mb-3",staticStyle:{width:"100%"}},[e("editor",{attrs:{rules:t.rules,id:"editor-container",placeholder:"Answer "+(i+1),theme:"snow",options:t.options},on:{change:function(e){t.pair2=s.answer}},model:{value:s.answer,callback:function(e){t.$set(s,"answer",e)},expression:"item.answer"}})],1),t._v(" "),e("v-btn",{staticClass:"mt-12 pl-2 pr-2",attrs:{icon:""},on:{click:function(s){return t.removeMatch(i)}}},[e("v-icon",[t._v("mdi-delete")])],1)],1)],1)],1)],1)})),t._v(" "),e("v-col",{staticClass:"ma-0 pa-0 text-right"},[e("v-btn",{staticClass:"mt-2",attrs:{disabled:null==t.pair1||null==t.pair2,rounded:"",color:"primary"},on:{click:function(s){t.addNewMatch(),t.pair1=null,t.pair2=null}}},[e("v-icon",{attrs:{dark:"",large:""}},[t._v("mdi-plus")])],1)],1)],2)],1):t._e(),t._v(" "),e("v-container",{staticClass:"pt-0 mt-0"},["Identification"==t.quesForm.type?e("v-switch",{staticClass:"float-right",attrs:{label:"Case Sensitive"},model:{value:t.quesForm.Sensitive,callback:function(s){t.$set(t.quesForm,"Sensitive",s)},expression:"quesForm.Sensitive"}}):t._e()],1),t._v(" "),e("v-container",{staticClass:"mb-5"},[e("v-btn",{staticClass:"mt-2",attrs:{loading:t.isAdding,rounded:"",color:"primary",dark:""},on:{click:t.validate}},[t._v("\r\n                                        Add Question"),e("v-icon",{attrs:{right:"",dark:""}},[t._v("mdi-note-plus-outline")])],1)],1)],1):t._e()],1)],1)],1)],1)],1)],1)],1)],1)],1)}),[],!1,null,null,null).exports}}]);