"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[6596],{56596:(t,e,s)=>{s.r(e),s.d(e,{default:()=>a});const i={props:["ListData","classworkDetails","Submitted","Graded","ClassList","Class"],components:{checkobjective:function(){return s.e(9742).then(s.bind(s,97255))},resetConfirmation:function(){return s.e(969).then(s.bind(s,969))},resetStudentSubmissionDialog:function(){return s.e(1244).then(s.bind(s,1244))}},data:function(){return{isloading:!0,isLoadingData:!0,selectedTasks:[],isMounted:!1,headers:[{text:"Name",value:"name"},{text:"Status",value:"status",align:"center"},{text:"Points",value:"points"},{text:"Actions",sortable:!1}],dialog:!1,Viewdialog:!1,ResetDialog:!1,ViewDetails:null,resetId:null,resetName:null,selected_index:null,Details:[],Reload:!0,StatusType:["Submitted","Taking","No Submission"],selectedStatus:"Submitted",SortType:["Name","Highest Score","Lowest Score"],selectedShowNumber:24,ShowNumber:[24,36,48,"all"],selectedSort:"Name",isSavingScore:!1,search:"",isViewing:!1,isStarting:!1,resetdialog:!1,selected_user_id:null,isFiltered:!1,Submitted_count:0,Over_total:0,pageNo:1,pageSize:12,currentPage:1,totalPage:0,currentTotalData:0}},computed:{indexStart:function(){return(this.currentPage-1)*this.pageSize},indexEnd:function(){return this.indexStart+this.pageSize},studentSubmissionList:function(){var t=this;if(this.search){var e=this.search;return this.ListData.filter((function(t){return e.toLowerCase().split(" ").every((function(e){return t.firstName.toLowerCase().includes(e)||t.lastName.toLowerCase().includes(e)}))}))}if("Submitted"==this.selectedStatus){var s=this.ListData;if(s=s.filter((function(e){return t.Class==t.$route.params.id?"Submitted"==e.status:"Submitted"==e.status&&e.class_id==t.Class})),this.Submitted_count=s.length,"Name"==this.selectedSort)return this.totalPage=Math.round((s.length-1)/this.pageSize),"all"!=this.selectedShowNumber?s.sort().splice(0,this.selectedShowNumber):s.sort();if("Lowest Score"==this.selectedSort){var i=s.sort((function(t,e){return t.points-e.points}));return"all"!=this.selectedShowNumber?i.splice(0,this.selectedShowNumber):i}if("Highest Score"==this.selectedSort){var a=s.sort((function(t,e){return t.points-e.points}));return"all"!=this.selectedShowNumber?a.reverse().splice(0,this.selectedShowNumber):a.reverse()}}else if("Taking"==this.selectedStatus){var l=this.ListData;if(l=l.filter((function(e){return t.Class==t.$route.params.id?"Taking"==e.status:"Taking"==e.status&&e.class_id==t.Class})),this.Submitted_count=l.length,"Name"==this.selectedSort)return"all"!=this.selectedShowNumber?l.sort().splice(0,this.selectedShowNumber):l.sort();if("Lowest Score"==this.selectedSort){var n=l.sort((function(t,e){return t.points-e.points}));return"all"!=this.selectedShowNumber?n.splice(0,this.selectedShowNumber):n}if("Highest Score"==this.selectedSort){var o=l.sort((function(t,e){return t.points-e.points}));return"all"!=this.selectedShowNumber?o.reverse().splice(0,this.selectedShowNumber):o.reverse()}}else if("No Submission"==this.selectedStatus){var r=this.ListData;if(r=r.filter((function(e){return t.Class==t.$route.params.id?null==e.status||""==e.status:(null==e.status||""==e.status)&&e.class_id==t.Class})),this.Submitted_count=r.length,"Name"==this.selectedSort)return"all"!=this.selectedShowNumber?r.sort().splice(0,this.selectedShowNumber):r.sort();if("Lowest Score"==this.selectedSort){var c=r.sort((function(t,e){return t.points-e.points}));return"all"!=this.selectedShowNumber?c.splice(0,this.selectedShowNumber):c}if("Highest Score"==this.selectedSort){var u=r.sort((function(t,e){return t.points-e.points}));return"all"!=this.selectedShowNumber?u.reverse().splice(0,this.selectedShowNumber):u.reverse()}}}},methods:{setPage:function(){this.currentPage=this.pageNo-1},ViewSubmision:function(t,e){this.ViewDetails=null,this.dialog=!this.dialog,this.isStarting=!0,this.Viewdialog=!this.Viewdialog,this.ViewDetails=t,this.selected_index=e,this.selected_id=t.id,this.$store.dispatch("isViewingSubmission")},GotoNextStudent:function(){this.ViewDetails=null,this.selected_index=this.selected_index+1,this.ViewDetails=this.studentSubmissionList[this.selected_index]},GotoPrevStudent:function(){this.ViewDetails=null,this.selected_index=this.selected_index-1,this.ViewDetails=this.studentSubmissionList[this.selected_index]},isNotViewing:function(){this.dialog=!1,this.Viewdialog=!1,this.$store.dispatch("isNotViewingSubmission")},ResetSubmission:function(){var t=this;this.studentSubmissionList.forEach((function(e){e.id==t.selected_id&&(e.status=null,e.points=0,e.Submitted_Answers=null)}))},MultipleResetSubmission:function(t){var e=this;axios.post("/api/teacher/resetStudentSubmissions",t).then((function(){t.forEach((function(t){e.studentSubmissionList.forEach((function(e){t.id==e.id&&(e.status=null,e.points=0,e.Submitted_Answers=null)}))})),e.resetdialog=!e.resetdialog}))},ShowLoading:function(){var t=this;this.isFiltered=!0,setTimeout((function(){return t.isFiltered=!1}),400)},FilteredClass:function(){var t=this;this.Over_total=0,this.Submitted_count=0,this.ShowLoading(),this.ListData.forEach((function(e){e.class_id==t.Class&&(t.Over_total++,"Submitted"==e.status&&t.Submitted_count++)}))}}};const a=(0,s(51900).Z)(i,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"pa-2"},[t.dialog?s("v-row",{attrs:{justify:"center"}},[s("v-overlay",{attrs:{value:t.isStarting}},[s("v-progress-circular",{attrs:{indeterminate:"",size:"64"}})],1)],1):t._e(),t._v(" "),t.dialog?s("v-row",[s("v-col",{attrs:{cols:"12"}},[t.dialog?s("checkobjective",{directives:[{name:"show",rawName:"v-show",value:!t.isStarting,expression:"!isStarting"}],attrs:{currentIndex:t.selected_index,SubmittedLength:t.studentSubmissionList.length,classworkDetails:t.classworkDetails,ViewDetails:t.ViewDetails},on:{isMounted:function(e){t.isStarting=!1},RestSubmission:function(e){return t.ResetSubmission()},UpdateSubmission:function(e){return t.$emit("UpdateSubmission")},closeDialog:function(e){return t.isNotViewing()},nextStudent:function(e){return t.GotoNextStudent()},prevStudent:function(e){return t.GotoPrevStudent()}}}):t._e()],1)],1):t._e(),t._v(" "),t.dialog?t._e():s("v-row",{staticClass:"pa-1"},[t.isViewing?t._e():s("v-col",{staticClass:"pl-6",attrs:{cols:"12",md:"12",lg:"12",xl:"12"}},[s("v-row",[s("v-col",{staticClass:"mb-0 pb-0",attrs:{cols:"12"}},[s("h3",[t._v(t._s(t.classworkDetails.title))])]),t._v(" "),s("v-col",{attrs:{cols:"12"}},[s("v-row",[s("v-col",{attrs:{cols:"6",sm:"3",md:"2"}},[s("div",{staticClass:"d-flex flex-column"},[s("h1",[t._v(t._s(t.Class==t.$route.params.id&&"Submitted"==t.selectedStatus?t.Submitted:t.Submitted_count)+" / "+t._s(t.Class==t.$route.params.id?t.ListData.length:t.Over_total))]),t._v(" "),s("small",[t._v("Submitted")])])]),t._v(" "),s("v-col",{staticClass:"text-right",attrs:{cols:"6",sm:"9",md:"10"}},[s("div",{staticClass:"pt-7"},[s("v-btn",{attrs:{small:"",text:"",rounded:""},on:{click:function(e){t.resetdialog=!t.resetdialog}}},[s("v-icon",{attrs:{left:""}},[t._v("mdi-restart")]),t._v("\r\n                                 Reset Submission\r\n                             ")],1)],1)])],1),t._v(" "),s("v-divider")],1),t._v(" "),s("v-col",{staticClass:"pt-0 mt-0 pb-0 mb-0 pt-1 pb-3",attrs:{cols:"6",sm:"6",md:"2",lg:"2",xl:"2"}},[s("v-select",{staticClass:"mb-0 pb-0",attrs:{outlined:"","hide-details":"",dense:"",label:"Class",items:t.ClassList,"item-text":"class_name","item-value":"class_id"},on:{change:t.FilteredClass},model:{value:t.Class,callback:function(e){t.Class=e},expression:"Class"}})],1),t._v(" "),s("v-col",{staticClass:"pt-0 mt-0 pb-0 mb-0 pt-1 pb-3",attrs:{cols:"6",sm:"6",md:"2",lg:"2",xl:"2"}},[s("v-select",{staticClass:"mb-0 pb-0",attrs:{outlined:"","hide-details":"",dense:"",label:"Status",items:t.StatusType},on:{change:t.ShowLoading},model:{value:t.selectedStatus,callback:function(e){t.selectedStatus=e},expression:"selectedStatus"}})],1),t._v(" "),s("v-col",{staticClass:"pt-0 mt-0 pb-0 mb-0 pt-1 pb-3",attrs:{cols:"12",md:"2",sm:"12",lg:"2",xl:"2"}},[s("v-select",{staticClass:"mb-0 pb-0",attrs:{outlined:"","hide-details":"",dense:"",label:"Sort By",items:t.SortType},on:{change:t.ShowLoading},model:{value:t.selectedSort,callback:function(e){t.selectedSort=e},expression:"selectedSort"}})],1),t._v(" "),s("v-col",{staticClass:"pt-0 mt-0 pb-0 mb-0 pt-1 pb-3",attrs:{cols:"12",md:"1",sm:"6",lg:"1",xl:"1"}},[s("v-select",{staticClass:"mb-0 pb-0",attrs:{outlined:"","hide-details":"",dense:"",label:"Limit",items:t.ShowNumber},on:{change:t.ShowLoading},model:{value:t.selectedShowNumber,callback:function(e){t.selectedShowNumber=e},expression:"selectedShowNumber"}})],1),t._v(" "),s("v-col",{staticClass:"pt-0 mt-0 pb-0 mb-0 pt-1 pb-3",attrs:{cols:"12",sm:"6",md:"5",lg:"5",xl:"5"}},[s("v-text-field",{staticClass:"mb-0 pb-0 mt-0 pt-0",attrs:{"hide-details":"","prepend-inner-icon":"mdi-magnify",outlined:"",dense:"",label:"Search"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),t._v(" "),s("v-col",{staticClass:"mt-0 pt-0",attrs:{cols:"12"}},[s("v-row",[t._l(t.studentSubmissionList,(function(e,i){return s("v-col",{directives:[{name:"show",rawName:"v-show",value:!t.isFiltered&&(t.Class==t.$route.params.id||t.Class==e.class_id),expression:"!isFiltered && (Class == $route.params.id || Class == item.class_id)"}],key:i,attrs:{cols:"12",md:"6",lg:"3",xl:"3"}},[s("v-alert",{staticClass:"ma-0 pa-0",attrs:{outlined:"",color:"Taking"==e.status?"blue":"Submitted"==e.status?"success":"grey"}},[s("v-list-item",{staticClass:"pt-1 pb-1",attrs:{link:""}},[s("v-list-item-avatar",{on:{click:function(s){return t.ViewSubmision(e,i)}}},[s("v-avatar",{attrs:{color:"brown",size:"40"}},[s("v-img",{attrs:{alt:"Profile",src:null==e.profile_pic||""==e.profile_pic?"https://ui-avatars.com/api/?background=random&color=fff&name="+e.firstName+" "+e.lastName:e.profile_pic}})],1)],1),t._v(" "),s("v-list-item-content",{on:{click:function(s){return t.ViewSubmision(e,i)}}},[s("v-list-item-title",[t._v("\r\n                                             "+t._s(e.firstName+" "+e.lastName)+"\r\n                                        ")]),t._v(" "),s("v-list-item-subtitle",["Submitted"==e.status?s("v-icon",{attrs:{left:"",small:"",color:"success"}},[t._v("mdi-check")]):t._e(),t._v(" "),"Submitted"==e.status?s("span",{staticClass:"success--text"},[t._v("Submitted")]):"Taking"==e.status?s("span",{staticClass:"blue--text"}):s("span",{staticClass:"red--text"},[t._v("No Submission")])],1)],1),t._v(" "),s("v-list-item-action",["Submitted"==e.status?s("v-text-field",{staticClass:"ma-0 pa-0",attrs:{"hide-details":"",label:"Score",rounded:"",loading:t.isSavingScore,dense:"",outlined:"",type:"number",suffix:"/"+t.classworkDetails.points,max:t.classworkDetails.points,maxlength:t.classworkDetails.points.toString().length,min:"0"},on:{keyup:function(s){return t.SaveScore(e.id,e.points)}},model:{value:e.points,callback:function(s){t.$set(e,"points",s)},expression:"item.points"}}):t._e(),t._v(" "),"Taking"==e.status?s("v-chip",{staticClass:"ma-2",attrs:{color:"blue","text-color":"white"}},[t._v("\r\n                                            Taking...\r\n                                        ")]):t._e(),t._v(" "),""==e.status||null==e.status?s("v-chip",{staticClass:"ma-2",attrs:{color:"transparent"}}):t._e()],1)],1)],1)],1)})),t._v(" "),t.isFiltered?s("v-col",{attrs:{cols:"12"}},[s("v-container",{staticClass:"fill-height",staticStyle:{height:"500px"}},[s("v-row",{attrs:{"align-content":"center",justify:"center"}},[s("v-col",{staticClass:"text-center",attrs:{cols:"12"}},[s("vue-element-loading",{attrs:{active:t.isFiltered,duration:"0.7",spinner:"line-scale",color:"#EF6C00",size:"40"}})],1)],1)],1)],1):t._e()],2)],1)],1)],1),t._v(" "),s("v-row",[s("v-dialog",{attrs:{persistent:"","max-width":"550"},model:{value:t.resetdialog,callback:function(e){t.resetdialog=e},expression:"resetdialog"}},[t.resetdialog?s("resetStudentSubmissionDialog",{attrs:{scrollable:"",ListData:t.ListData,ClassList:t.ClassList},on:{toggleDialog:function(e){t.resetdialog=!t.resetdialog},StartReset:t.MultipleResetSubmission}}):t._e()],1)],1)],1)],1)}),[],!1,null,null,null).exports}}]);