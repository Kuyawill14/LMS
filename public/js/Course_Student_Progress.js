"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[9875],{85914:(e,t,s)=>{s.d(t,{Z:()=>r});var n=s(1519),a=s.n(n)()((function(e){return e[1]}));a.push([e.id,".v-input__slot{margin-bottom:0!important}",""]);const r=a},92012:(e,t,s)=>{s.r(t),s.d(t,{default:()=>c});function n(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,n)}return s}function a(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?n(Object(s),!0).forEach((function(t){r(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):n(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function r(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const i={props:["role"],data:function(){return{Deldialog:!1,dialog:!1,temp_id:"",loading:!0,type:"",search:"",grading_criteria_form:{},grading_criteria:{},course_id:"",delId:"",studentSubModuleProgress:[],totalTimeSpent:0,students:[],classList:[],selectedClass:[],items:[{text:"Course",disabled:!1,link:"courses"},{text:"Teacher"==this.role?"Student Progress":"My Progress ",disabled:!0,link:"studentProgress"}],headers:[{text:"ID",value:"student_id",align:"start"},{text:"Student Name",value:"lastName",align:"start"}],subModuleheaders:[],timerChange:null}},computed:a(a({},(0,s(20629).Se)(["getmain_module","getSub_module","getAll_sub_module","getStudentMainModuleProgress","SubModuleProgress","allClass"])),{},{filteredItems:function(){var e=this;return this.search?this.students.filter((function(t){return e.search.toLowerCase().split(" ").every((function(e){return t.firstName.toLowerCase().includes(e)||t.lastName.toLowerCase().includes(e)||t.middleName.toLowerCase().includes(e)||null==t.student_id?t.lastName.toLowerCase().includes(e):t.student_id.toString().includes(e)}))})):this.students}}),methods:{fixedHeader:function(e,t){clearInterval(this.timerChange),this.timerChange=setInterval((function(){document.querySelectorAll("#changeThis"+e+"> div >table > thead > tr> th > span");for(var s=2;s<t.length;s++)document.querySelectorAll("#changeThis"+e+" > div >table > thead > tr> th ")[s].innerHTML=t[s].text}),100)},changedTab:function(e){this.subModuleHeaders(e)},subModuleHeaders:function(e){var t=[];t.push({text:"ID",value:"student_id",align:"start"},{text:"Student Name",value:"lastName",align:"start"});for(var s=this.getSub_module(e),n=0;n<s.length;n++)t.push({text:s[n].sub_module_name+"<br>("+this.convertTime(60*s[n].required_time)+")",value:"id11"+s[n].id,align:"center"});t.push({text:"Total  Completed",value:"total_completed",align:"center"}),this.subModuleheaders=t,this.fixedHeader(e,t)},allHeaders:function(){for(var e=0;e<this.getmain_module.length;e++)this.headers.push({text:this.getmain_module[e].module_name,value:"id"+this.getmain_module[e].id,align:"center"});this.headers.push({text:"Total  Completed",value:"total_completed",align:"center"},{text:"Percentage",value:"total_percentage",align:"center"})},convertTime:function(e){var t=Number(e),s=Math.floor(t/3600),n=Math.floor(t%3600/60),a=Math.floor(t%3600%60);s<10&&(s="0"+s),n<10&&(n="0"+n),a<10&&(a="0"+a);return s+":"+n+":"+a},checkTimeSpent:function(e,t){return e>=t?"green":"red"},getTotalCompleted:function(e){for(var t=0,s=0,n=0;n<e.length;n++)t+=e[n].completed,s+=e[n].sub_module_length;return t+"/"+s},getTotalPercent:function(e){for(var t=0,s=0,n=0,a=0;a<e.length;a++)t+=e[a].completed,s+=e[a].sub_module_length;return n=t/s*100,isNaN(n)&&(n=0),parseFloat(n.toFixed(2))},_mainTotalRequiredTimeSeconds:function(){for(var e=0,t=this.getAll_sub_module,s=0;s<t.length;s++)e+=parseFloat(t[s].required_time);return e},_mainTotalRequiredTime:function(){for(var e=0,t=this.getAll_sub_module,s=0;s<t.length;s++)e+=parseFloat(t[s].required_time);return this.convertTime(e)},_totalRequiredTime:function(e){for(var t=0,s=this.getSub_module(e),n=0;n<s.length;n++)t+=parseFloat(s[n].required_time);return this.convertTime(t)},_totalTimeSpent:function(e){var t=0;return e.forEach((function(e){t+=parseFloat(e.time_spent)})),t},getProgress:function(e,t){SubModuleProgress(main_module.id,main.student_id)[0]},fetchStudentModuleProgress:function(){var e=this;this.loading=!0,axios.get("/api/student_sub_module/all/".concat(this.$route.params.id)).then((function(t){e.studentSubModuleProgress=t.data})),this.$store.dispatch("fetchMainModule",this.$route.params.id).then((function(){e.allHeaders()})),this.$store.dispatch("fetchSubModule",this.$route.params.id),this.$store.dispatch("studentSubProgress",this.$route.params.id)},getStudentList:function(){var e=this;this.loading=!0,axios.get("/api/student/all_by_class/"+this.selectedClass).then((function(t){e.students=t.data})).catch((function(e){})),this.$store.dispatch("studentMainProgress",this.selectedClass).then((function(){e.loading=!1}))},getClassList:function(){var e=this;this.$store.dispatch("fetchSubjectCourseClassList",this.$route.params.id).then((function(){e.classList=e.allClass,e.selectedClass=e.classList[0].class_id,e.getStudentList(),e.loading=!1}))}},beforeDestroy:function(){clearInterval(this.timerChange)},mounted:function(){this.loading=!0,this.fetchStudentModuleProgress(),this.getClassList(),this.loading=!1,$("head > title").text("Students Progress")}};var l=s(72446),o=s.n(l),d=s(85914),u={insert:"head",singleton:!1};o()(d.Z,u);d.Z.locals;const c=(0,s(51900).Z)(i,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-breadcrumbs",{staticClass:"ma-0 pa-0 mt-3",attrs:{items:e.items},scopedSlots:e._u([{key:"item",fn:function(t){var n=t.item;return[s("v-breadcrumbs-item",{attrs:{to:{name:n.link},disabled:n.disabled}},[e._v("\n                "+e._s(n.text.toUpperCase())+"\n            ")])]}}])}),e._v(" "),s("v-row",{staticClass:"pt-1"},[s("v-col",{attrs:{cols:"6"}},[s("h2",[e._v("\n                "+e._s("Teacher"==e.role?"Student Progress":"My Progress")+"\n            ")])]),e._v(" "),"Teacher"==e.role?s("v-col",{attrs:{cols:"6"}},[s("v-select",{staticClass:"float-right",attrs:{items:e.classList,"item-text":"class_name","item-value":"class_id",label:"Select Class"},on:{change:function(t){return e.getStudentList()}},model:{value:e.selectedClass,callback:function(t){e.selectedClass=t},expression:"selectedClass"}})],1):e._e()],1),e._v(" "),s("v-row",{staticClass:"pt-2"},[s("v-col",[s("v-card",[s("v-tabs",{attrs:{color:"primary accent-4",right:""}},[s("v-tab",{attrs:{href:"#all"}},[e._v("\n                        All\n                    ")]),e._v(" "),e._l(e.getmain_module,(function(t,n){return s("v-tab",{key:n,on:{click:function(s){return e.changedTab(t.id)}}},[e._v("\n                        "+e._s(t.module_name)+"\n                    ")])})),e._v(" "),s("v-tab-item",{attrs:{id:"all"}},[s("v-card-title",[e._v("\n                            Summary\n\n                            "),s("v-spacer"),e._v(" "),s("div",{attrs:{width:"50%"}},[s("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)],1),e._v(" "),0!=e.headers.length?s("v-data-table",{attrs:{headers:e.headers,items:e.filteredItems,loading:e.loading},scopedSlots:e._u([0!=e.students.length?{key:"body",fn:function(t){var n=t.items;return[s("tbody",e._l(n,(function(t,n){return s("tr",{key:""+n},[s("td",{staticClass:"text-left"},[e._v("\n                                            "+e._s(t.student_id)+"\n                                        ")]),e._v(" "),s("td",{staticClass:"text-left"},[e._v("\n                                            "+e._s(t.lastName+", "+t.firstName+" "+t.middleName)+"\n\n                                        ")]),e._v(" "),e._l(e.getStudentMainModuleProgress(t.id),(function(n,a){return s("td",{key:""+a,staticClass:"text-center"},[e._v("\n                                            "+e._s(t["id"+n.main_module_id]=n.completed)+" /\n                                            "+e._s(n.sub_module_length)+"\n                                         \n                                        ")])})),e._v(" "),s("td",{staticClass:"text-center"},[e._v("\n                                            "+e._s(t.total_completed=e.getTotalCompleted(e.getStudentMainModuleProgress(t.id)))+"\n                                        ")]),e._v(" "),s("td",{staticClass:"text-center"},[e._v("\n                                            "+e._s(t.total_percentage=e.getTotalPercent(e.getStudentMainModuleProgress(t.id)))+"%\n                                        ")])],2)})),0),e._v(" "),0==e.students.length?s("tr",[s("td",{staticClass:"text-center",attrs:{colspan:"100"}},[e._v("\n                                            No data available, please add or invite students.\n                                        ")])]):e._e()]}}:null],null,!0)}):e._e()],1),e._v(" "),e._l(e.getmain_module,(function(t,n){return s("v-tab-item",{key:n},[s("v-card-title",[e._v("\n                            "+e._s(t.sub_module_name)+"\n\n                            "),s("v-spacer"),e._v(" "),s("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),e._v(" "),0!=e.headers.length?s("v-data-table",{attrs:{headers:e.subModuleheaders,items:e.filteredItems,id:"changeThis"+t.id,loading:e.loading},scopedSlots:e._u([{key:"body",fn:function(n){var a=n.items;return[s("tbody",[e._l(a,(function(n,a){return s("tr",{key:a},[s("td",{staticClass:"text-left"},[e._v("\n                                            "+e._s(n.student_id)+"\n                                        ")]),e._v(" "),s("td",{staticClass:"text-left"},[e._v("\n                                            "+e._s(n.lastName+", "+n.firstName+" "+n.middleName)+"\n\n                                        ")]),e._v(" "),e._l(e.SubModuleProgress(t.id,n.id),(function(t,a){return s("td",{key:a,staticClass:"text-center"},[s("v-chip",{attrs:{color:e.checkTimeSpent(t.time_spent,t.required_time),"text-color":"white"}},[e._v("\n                                                "+e._s(n["id11"+t.sub_module_id]=e.convertTime(t.time_spent))+"\n                                            ")])],1)})),e._v(" "),s("td",{staticClass:"text-center"},[e._v("\n                                            "+e._s(n.total_completed=e.convertTime(e._totalTimeSpent(e.SubModuleProgress(t.id,n.id))))+"\n                                        ")])],2)})),e._v(" "),0==e.students.length?s("tr",[s("td",{staticClass:"text-center",attrs:{colspan:"100"}},[e._v("\n                                            No data available, please add or invite students.\n                                        ")])]):e._e()],2)]}}],null,!0)}):e._e()],1)}))],2)],1)],1)],1)],1)}),[],!1,null,"7eb3aa3d",null).exports}}]);