"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[2865],{9888:(t,i,e)=>{e.d(i,{Z:()=>o});var r=e(1519),a=e.n(r)()((function(t){return t[1]}));a.push([t.id,".text-field>.v-input__control>.v-text-field__details>.error--text{margin-top:-55px!important;position:absolute!important;z-index:9999999!important}",""]);const o=a},2865:(t,i,e)=>{e.r(i),e.d(i,{default:()=>d});var r=e(9669),a=e.n(r);const o={props:["dialog","total_points","title","rubrics"],data:function(){return{isSaved:!0,loading:!1,deleteDialog:!1,rubrics_id:"",deleteIndex:null,modal:this.dialog,criteria:this.rubrics,num:-999,criteria_form:{id:"",points:"",criteria_name:"",description:""},valid:!0,nameRules:[function(t){return!!t||" required"}],pointsRules:[function(t){return!!t||"Points is required"}]}},methods:{closeModal:function(){var t=this;this.saveAllCriteria().then((function(){t.$emit("closeModal")}))},resetForm:function(){this.criteria_form.points="",this.criteria_form.criteria_name="",this.criteria_form.description=""},saveAllCriteria:function(){var t=this;this.loading=!0,this.criteria.push(this.criteria_form),a().post("/api/classwork/rubrics-save/".concat(this.$route.query.clwk),{rubrics:this.criteria}).then((function(i){t.resetForm(),t.loading=!1,t.$emit("CriteriaSave")})).catch((function(i){console.log(i),t.toastError("Something went wrong"),t.loading=!1}))},addCriteria:function(){this.isSaved=!1,this.$refs.form.validate()&&(""==this.criteria_form.points?this.toastError("Please Complete the fields"):(this.criteria.push({id:this.num-1,points:this.criteria_form.points,criteria_name:this.criteria_form.criteria_name,description:this.criteria_form.description}),this.resetForm()))},deleteRubrics:function(t){var i=this;this.loading=!0,a().delete("/api/classwork/rubric/delete/".concat(this.$route.query.clwk,"/").concat(this.rubrics_id)).then((function(t){i.loading=!1,i.deleteDialog=!1,i.criteria.splice(i.deleteIndex,1)})).catch((function(t){console.log(t),i.toastError("Something went wrong"),i.loading=!1}))}},mounted:function(){}};var s=e(2446),n=e.n(s),l=e(9888),c={insert:"head",singleton:!1};n()(l.Z,c);l.Z.locals;const d=(0,e(1900).Z)(o,(function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("v-card",[e("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(i){t.valid=i},expression:"valid"}},[e("v-toolbar",{attrs:{dark:"",color:"primary"}},[e("v-btn",{attrs:{icon:"",dark:""},on:{click:function(i){return t.$emit("CLoseRubricModal")}}},[e("v-icon",[t._v("mdi-close")])],1),t._v(" "),e("v-toolbar-title",[t._v("Rubcris")]),t._v(" "),e("v-spacer"),t._v(" "),e("v-toolbar-title",[t._v(t._s(t.title)+" ("+t._s(t.total_points)+"pts)")]),t._v(" "),e("v-spacer"),t._v(" "),e("v-toolbar-items",[e("v-btn",{attrs:{dark:"",text:""},on:{click:function(i){return t.saveAllCriteria()}}},[t._v("\n                    Save\n                ")])],1)],1),t._v(" "),e("v-container",[e("v-row",{staticClass:"pt-4",attrs:{align:"center"}},[e("vue-element-loading",{attrs:{active:t.loading,spinner:"bar-fade-scale",color:"#FF6700"}}),t._v(" "),t._l(t.criteria,(function(i,r){return e("v-col",{key:r,attrs:{cols:"3"}},[e("v-card",{staticClass:"pa-5"},[e("v-btn",{staticClass:"mx-2",staticStyle:{position:"absolute",right:"-20px",top:"-11px",height:"20px !important",width:"20px !important"},attrs:{fab:"",dark:"","x-small":"",color:"red"},on:{click:function(e){t.deleteDialog=!0,t.rubrics_id=i.id,t.deleteIndex=r}}},[e("v-icon",{staticStyle:{"font-size":"15px"},attrs:{dark:""}},[t._v("\n                                mdi-close\n                            ")])],1),t._v(" "),e("v-row",[e("v-col",{staticStyle:{"margin-bottom":"-20px"},attrs:{cols:"12"}},[e("v-text-field",{staticClass:"text-field",attrs:{outlined:"",label:"Points",type:"number",rules:t.pointsRules,required:""},model:{value:i.points,callback:function(e){t.$set(i,"points",e)},expression:"item.points"}})],1),t._v(" "),e("v-col",{staticClass:"py-0",staticStyle:{"margin-bottom":"-20px"},attrs:{cols:"12"}},[e("v-text-field",{staticClass:"text-field",attrs:{outlined:"",label:"Cirterion name",rules:t.nameRules,type:"text",required:""},model:{value:i.criteria_name,callback:function(e){t.$set(i,"criteria_name",e)},expression:"item.criteria_name"}})],1),t._v(" "),e("v-col",{staticClass:"py-0",staticStyle:{"margin-bottom":"-20px"},attrs:{cols:"12"}},[e("v-textarea",{staticClass:"text-field",attrs:{label:"Description",outlined:"","auto-grow":""},model:{value:i.description,callback:function(e){t.$set(i,"description",e)},expression:"item.description"}})],1)],1)],1)],1)})),t._v(" "),e("v-col",{attrs:{cols:"3"}},[e("v-card",{staticClass:"pa-5"},[e("v-row",[e("v-col",{staticStyle:{"margin-bottom":"-20px"},attrs:{cols:"12"}},[e("v-text-field",{staticClass:"text-field",attrs:{outlined:"",label:"Points",type:"text",rules:t.pointsRules,required:""},model:{value:t.criteria_form.points,callback:function(i){t.$set(t.criteria_form,"points",i)},expression:"criteria_form.points"}})],1),t._v(" "),e("v-col",{staticClass:"py-0",staticStyle:{"margin-bottom":"-20px"},attrs:{cols:"12"}},[e("v-text-field",{staticClass:"text-field",attrs:{outlined:"",label:"Cirterion name",rules:t.nameRules,type:"text",required:""},model:{value:t.criteria_form.criteria_name,callback:function(i){t.$set(t.criteria_form,"criteria_name",i)},expression:"criteria_form.criteria_name"}})],1),t._v(" "),e("v-col",{staticClass:"py-0",staticStyle:{"margin-bottom":"-20px"},attrs:{cols:"12"}},[e("v-textarea",{staticClass:"text-field",attrs:{label:"Description",outlined:"","auto-grow":""},model:{value:t.criteria_form.description,callback:function(i){t.$set(t.criteria_form,"description",i)},expression:"criteria_form.description"}})],1)],1)],1)],1),t._v(" "),e("v-btn",{staticClass:"ml-3",attrs:{color:"primary"},on:{click:t.addCriteria}},[e("v-icon",[t._v("\n                        mdi-plus\n                    ")])],1)],2)],1)],1),t._v(" "),e("v-dialog",{attrs:{persistent:"","max-width":"600px"},model:{value:t.deleteDialog,callback:function(i){t.deleteDialog=i},expression:"deleteDialog"}},[e("v-card",[e("v-card-title",[e("span",{staticClass:"headline"},[t._v("Confirmation")])]),t._v(" "),e("v-card-text",[t._v("\n                Are you sure you want to delete this Item?\n            ")]),t._v(" "),e("v-card-actions",[e("v-spacer"),t._v(" "),e("v-btn",{attrs:{text:""},on:{click:function(i){t.deleteDialog=!1}}},[t._v("\n                    Cancel\n                ")]),t._v(" "),e("v-btn",{attrs:{color:"red",text:"",loading:t.loading},on:{click:function(i){return t.deleteRubrics(t.rubrics_id)}}},[t._v("\n                    Delete\n                ")])],1)],1)],1)],1)}),[],!1,null,null,null).exports}}]);