"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[7877],{105:(t,e,i)=>{i.d(e,{Z:()=>n});var a=i(1519),s=i.n(a)()((function(t){return t[1]}));s.push([t.id,".doc[data-v-e1b2a56c]{height:70vh;width:100%}",""]);const n=s},9153:(t,e,i)=>{i.d(e,{Z:()=>n});var a=i(1519),s=i.n(a)()((function(t){return t[1]}));s.push([t.id,"input::-webkit-inner-spin-button,input::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type=number]{-moz-appearance:textfield}",""]);const n=s},7877:(t,e,i)=>{i.r(e),i.d(e,{default:()=>_});var a=i(7757),s=i.n(a),n=i(2239);function r(t,e,i,a,s,n,r){try{var o=t[n](r),c=o.value}catch(t){return void i(t)}o.done?e(c):Promise.resolve(c).then(a,s)}function o(t){return function(){var e=this,i=arguments;return new Promise((function(a,s){var n=t.apply(e,i);function o(t){r(n,a,s,o,c,"next",t)}function c(t){r(n,a,s,o,c,"throw",t)}o(void 0)}))}}function c(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function l(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}const u={props:["CheckData","classworkDetails"],data:function(){return{dialog:!1,notifications:!1,sound:!0,widgets:!1,Details:null,timeout:null,value:"",score:"",pdf_path:null,isSavingScore:!1,isCommenting:!1,comment:null,RubricsPoints:[],SaveRubricsData:[]}},computed:function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?c(Object(i),!0).forEach((function(e){l(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):c(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({},(0,i(629).Se)(["get_CurrentUser"])),methods:{format_date:function(t){if(t)return(0,n.Z)(String(t)).format("MM/d/YYYY, hh:mm A")},DownloadFile:function(t){var e=window.location.protocol+"//"+window.location.host;window.location=e+"/storage/"+t},SaveScore:function(){clearTimeout(this.timeout);var t=this;this.timeout=setTimeout((function(){t.score=t.CheckData.points,t.isSavingScore=!t.isSavingScore,t.UpdateScore()}),1e3)},SaveRubricsScore:function(){var t=this,e=0,i=0,a=0;this.classworkDetails.rubrics.forEach((function(s){e+=s.points,i+=parseInt(t.CheckData.rubrics_score[a].points),t.SaveRubricsData.push({id:s.id,points:t.RubricsPoints[a]}),a++}));var s=i/e*this.classworkDetails.points;this.CheckData.points=Math.round(s),this.score=Math.round(this.CheckData.points),this.isSavingScore=!this.isSavingScore,this.UpdateScore()},UpdateScore:function(){var t=this;return o(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.score<=t.classworkDetails.points?axios.put("/api/submission/update-score/"+t.CheckData.id,{score:t.score,data:t.CheckData.rubrics_score}).then((function(e){200==e.status&&(t.toastSuccess("Score Updated"),t.isSavingScore=!t.isSavingScore,t.$emit("UpdateSubmission"))})):(t.isSavingScore=!t.isSavingScore,t.toastError("Score is higher than the set points!"));case 1:case"end":return e.stop()}}),e)})))()},alertStudent:function(){var t=this;return o(s().mark((function e(){var i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i={},t.isAlerting=!0,i.user_id=t.CheckData.user_id,i.classwork_name=t.classworkDetails.title,i.classwork_id=t.classworkDetails.id,i.course_id=t.classworkDetails.course_id,i.firstName=t.CheckData.firstName,axios.post("/api/teacher/alert-student",i).then((function(e){1==e.data.success&&(t.toastSuccess(e.data.message),t.isAlerting=!1)}));case 8:case"end":return e.stop()}}),e)})))()},OpenFile:function(t,e){console.log(e),this.pdf_path=e},addComment:function(t){var e=this;return o(s().mark((function i(){var a;return s().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:a={},e.isCommenting=!0,a.classwork_id=t.classwork_id,a.course_id=e.$route.params.id,a.to_user=t.user_id,a.comment=e.comment,axios.post("/api/post/classwork/comment/insert",a).then((function(t){200==t.status&&(e.CheckData.comments.push({content:t.data.comment,id:t.data.id,name:t.data.name,profile_pic:t.data.profile_pic}),e.comment=null)})),e.isCommenting=!1;case 8:case"end":return i.stop()}}),i)})))()}},created:function(){if(null!=this.CheckData.Submitted_Answers&&""!=this.CheckData.Submitted_Answers){var t=this.CheckData.Submitted_Answers[0].link;this.pdf_path=t}this.$emit("isMounted")}};var m=i(2446),v=i.n(m),p=i(105),d={insert:"head",singleton:!1};v()(p.Z,d);p.Z.locals;var f=i(9153),h={insert:"head",singleton:!1};v()(f.Z,h);f.Z.locals;const _=(0,i(1900).Z)(u,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-card",[i("v-app-bar",{attrs:{color:"primary"}},[i("v-btn",{attrs:{dark:"",icon:""},on:{click:function(e){return t.$emit("closeDialog")}}},[i("v-icon",[t._v("mdi-close")])],1)],1),t._v(" "),i("v-card-text",{staticClass:"ma-0 pa-0 pa-2"},[i("v-row",{attrs:{"no-gutters":""}},[i("v-col",{class:t.$vuetify.breakpoint.xs?"pt-2":"pt-2 pr-3",attrs:{cols:"12",md:"4",lg:"4"}},[i("v-container",{attrs:{fluid:"","ma-0":"","pa-0":""}},[i("v-card",{staticClass:"pa-5 pb-8 pt-0",attrs:{elevation:"1",outlined:""}},[i("v-row",{attrs:{"no-gutters":""}},[i("v-col",{staticClass:"ma-0 pa-0"},[i("v-list",{staticClass:"ma-0 pa-0"},[i("v-list-item",{staticClass:"ma-0 pa-0"},[i("v-list-item-avatar",{attrs:{color:"secondary"}},[i("v-img",{attrs:{alt:"Profile",src:null==t.CheckData.profile_pic||""==t.CheckData.profile_pic?"https://ui-avatars.com/api/?background=random&color=fff&name="+t.CheckData.firstName+" "+t.CheckData.lastName:t.CheckData.profile_pic}})],1),t._v(" "),i("v-list-item-content",[i("v-list-item-title",{staticClass:"font-weight-medium"},[t._v(t._s(t.CheckData.firstName+" "+t.CheckData.lastName))]),t._v(" "),i("v-list-item-subtitle",[t._v("Submitted: "+t._s(t.format_date(t.CheckData.updated_at)))])],1),t._v(" "),i("v-list-item-action",{staticClass:"mt-8"},[i("v-text-field",{attrs:{loading:t.isSavingScore,dense:"",outlined:"",label:"Score",type:"number",suffix:"/"+t.classworkDetails.points,max:t.classworkDetails.points,min:"0"},on:{keyup:function(e){return t.SaveScore()}},model:{value:t.CheckData.points,callback:function(e){t.$set(t.CheckData,"points",e)},expression:"CheckData.points"}})],1)],1)],1)],1),t._v(" "),i("v-col",{attrs:{cols:"12"}},[i("v-row",[i("v-col",{attrs:{cols:"12"}},[i("h2",[t._v(t._s(t.classworkDetails.title))])]),t._v(" "),null!=t.CheckData.Submitted_Answers&&""!=t.CheckData.Submitted_Answers?i("v-col",{attrs:{cols:"12"}},[i("v-list",{attrs:{nav:""}},t._l(t.CheckData.Submitted_Answers,(function(e,a){return i("v-list-item",{key:a,staticClass:"rounded",attrs:{link:""}},[i("v-list-item-icon",{staticClass:"pr-0 mr-0 mr-1"},[i("v-icon",{attrs:{large:"",color:"pdf"==e.fileExte?"red":"docx"==e.fileExte?"blue":"jpg"==e.fileExte||"png"==e.fileExte||"bmp"==e.fileExte?"info":""}},[t._v("\n                                                                                    "+t._s("pdf"==e.fileExte?"mdi-file-pdf":"docx"==e.fileExte?"mdi-file-word":"jpg"==e.fileExte||"png"==e.fileExte||"bmp"==e.fileExte?"mdi-folder-multiple-image":"")+"\n                                                                                ")])],1),t._v(" "),i("v-list-item-content",{on:{click:function(i){return t.OpenFile(e.fileExte,e.link)}}},[i("v-list-item-title",[t._v("\n                                                                                "+t._s(e.name)+"\n                                                                            ")])],1),t._v(" "),i("v-list-item-action",[i("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(a){var s=a.on,n=a.attrs;return[i("v-btn",t._g(t._b({attrs:{rounded:"",small:"",icon:"",text:""},on:{click:function(i){return t.DownloadFile(e.link)}}},"v-btn",n,!1),s),[i("v-icon",{attrs:{color:"blue"}},[t._v("mdi-download")])],1)]}}],null,!0)},[t._v(" "),i("span",[t._v("Download")])])],1)],1)})),1)],1):t._e()],1)],1)],1),t._v(" "),i("v-list",t._l(t.classworkDetails.rubrics,(function(e,a){return i("v-list-item",{key:a,staticClass:"mb-0 pb-0"},[i("v-list-item-avatar",{attrs:{tile:""}},[i("div",{staticClass:"font-weight-bold"},[t._v(t._s(e.points)+"%")])]),t._v(" "),i("v-list-item-content",[i("v-list-item-title",{staticClass:"font-weight-medium"},[t._v("\n                                            "+t._s(e.criteria_name)+"\n                                        ")]),t._v(" "),i("v-list-item-subtitle",[t._v("\n                                            "+t._s(e.description)+"\n                                        ")])],1),t._v(" "),i("v-list-item-action",{staticStyle:{width:"30%"}},[i("v-text-field",{staticClass:"ma-0 pa-0",attrs:{type:"number",suffix:"/"+e.points,dense:"",outlined:"",label:e.criteria_name},model:{value:t.CheckData.rubrics_score[a].points,callback:function(e){t.$set(t.CheckData.rubrics_score[a],"points",e)},expression:"CheckData.rubrics_score[index].points"}})],1)],1)})),1),t._v(" "),i("div",{staticClass:"text-right"},[i("v-btn",{staticClass:"primary",attrs:{small:"",dark:""},on:{click:function(e){return t.SaveRubricsScore()}}},[t._v("\n                                    Save\n                                ")])],1)],1),t._v(" "),i("v-card",{staticClass:"mt-2 ",attrs:{elevation:"1",outlined:""}},[i("div",{staticClass:"pt-3 pl-4 pr-4 pb-2"},[i("v-icon",{attrs:{left:""}},[t._v("mdi-comment")]),t._v("Private Comments\n                            ")],1),t._v(" "),i("v-divider"),t._v(" "),i("v-list",{staticClass:"mb-0 pb-0"},t._l(t.CheckData.comments,(function(e,a){return i("v-list-item",{key:a,staticClass:"mb-0 pb-0"},[i("v-list-item-avatar",[i("v-img",{attrs:{src:null==e.profile_pic||""==e.profile_pic?"https://ui-avatars.com/api/?background=0D8ABC&color=fff&name="+e.name:e.profile_pic}})],1),t._v(" "),i("v-list-item-content",[i("v-list-item-title",{domProps:{innerHTML:t._s(e.name)}}),t._v(" "),i("v-list-item-subtitle",{domProps:{innerHTML:t._s(e.content)}})],1),t._v(" "),i("v-list-item-action",[i("v-btn",{attrs:{icon:""}},[i("v-icon",{attrs:{small:"",color:"grey lighten-1"}},[t._v("mdi-dots-vertical")])],1)],1)],1)})),1),t._v(" "),i("v-divider"),t._v(" "),i("v-list",{staticClass:"mb-0 pb-0 mt-0 pt-0"},[i("v-list-item",{staticClass:"mb-0 pb-0"},[i("v-list-item-avatar",{attrs:{color:"secondary"}},[i("v-img",{attrs:{src:null==t.get_CurrentUser.profile_pic||""==t.get_CurrentUser.profile_pic?"https://ui-avatars.com/api/?background=random&color=fff&name="+t.get_CurrentUser.firstName+" "+t.get_CurrentUser.lastName:t.get_CurrentUser.profile_pic}})],1),t._v(" "),i("v-list-item-content",{staticClass:"ma-0 pa-0"},[i("v-textarea",{staticClass:"pa-0 mt-7",attrs:{loading:t.isCommenting,"prepend-avatar":"mdi-emoticon-dead",filled:"",rounded:"",dense:"","auto-grow":"",rows:"1","clear-icon":"mdi-close-circle",clearable:"",placeholder:"Comment",type:"text"},model:{value:t.comment,callback:function(e){t.comment=e},expression:"comment"}})],1),t._v(" "),i("v-list-item-action",[i("v-btn",{attrs:{loading:t.isCommenting,icon:""},on:{click:function(e){return t.addComment(t.CheckData)}}},[i("v-icon",{attrs:{color:"primary"}},[t._v("mdi-send")])],1)],1)],1)],1)],1)],1)],1),t._v(" "),i("v-col",{staticClass:"pt-1",attrs:{cols:"12",md:"8",lg:"8"}},[null==t.CheckData.Submitted_Answers||""==t.CheckData.Submitted_Answers?i("v-container",{staticClass:"pt-1",attrs:{fluid:"","ma-0":"","pa-0":""}},[i("v-card",{staticClass:"pa-2",staticStyle:{height:"40rem"}},[i("v-row",{attrs:{justify:"center","align-content":"center"}},[i("v-col",{staticClass:"text-center",staticStyle:{"margin-top":"10rem"},attrs:{cols:"12"}},[i("v-icon",{staticStyle:{"font-size":"8rem"}},[t._v("\n                                        mdi-notebook-remove-outline\n                                    ")]),t._v(" "),i("h2",[t._v(" Empty Submission ")]),t._v(" "),i("p",{staticClass:"mb-0 pb-0"},[t._v(" This student did not submit yet!")]),t._v(" "),i("v-btn",{attrs:{color:"primary"},on:{click:function(e){return t.alertStudent()}}},[t._v("Alert Student "),i("v-icon",{attrs:{right:""}},[t._v("mdi-account-alert")])],1)],1)],1)],1)],1):t._e(),t._v(" "),null!=t.CheckData.Submitted_Answers&&""!=t.CheckData.Submitted_Answers?i("v-container",{attrs:{fluid:"","ma-0":"","pa-0":""}},[i("v-card",[i("div",{staticStyle:{height:"100vh"}},[i("iframe",{staticStyle:{position:"absolute",top:"0px",left:"0px",width:"100%",height:"100%"},attrs:{title:"google pdf viewer",id:"pdf-iframe",src:"https://docs.google.com/viewer?embedded=true&url="+t.pdf_path,sandbox:"allow-same-origin allow-scripts allow-popups allow-forms"}})])])],1):t._e()],1)],1)],1)],1)}),[],!1,null,"e1b2a56c",null).exports}}]);