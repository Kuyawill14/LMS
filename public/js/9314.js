"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[9314],{49314:(t,s,e)=>{e.r(s),e.d(s,{default:()=>o});var i=e(87757),n=e.n(i);function a(t,s,e,i,n,a,l){try{var o=t[a](l),r=o.value}catch(t){return void e(t)}o.done?s(r):Promise.resolve(r).then(i,n)}const l={props:["ListData","ClassList"],data:function(){return{student:[],Class:this.$route.params.id,selectAll:!1,SelectedAll_submission_id:[],iReseting:!1,resetConfirm:!1,studentCount:0,resetCount:0,studentData:[]}},methods:{getSubmittedStudents:function(){var t=this;this.ListData.forEach((function(s){"Submitted"==s.status&&(t.studentCount++,s.Sumissionstatus=!1,t.SelectedAll_submission_id.push({id:s.id,status:s.Sumissionstatus}),t.student.push(s))}))},SelectAllStudent:function(){var t=this;this.selectAll?(this.resetCount=0,this.ListData.forEach((function(s){"Submitted"==s.status&&s.class_id==t.Class&&(t.resetCount++,s.Sumissionstatus=!0,t.SelectedAll_submission_id.push({id:s.id,status:s.Sumissionstatus}))}))):(this.SelectedAll_submission_id=[],this.resetCount=0,this.ListData.forEach((function(t){"Submitted"==t.status&&(t.Sumissionstatus=!1)})))},SelectData:function(t,s){this.SelectedAll_submission_id[s].status=this.ListData[s].Sumissionstatus,this.resetCount=this.ListData[s].Sumissionstatus?this.resetCount-1:this.resetCount+1},ResetSubmission:function(){var t,s=this;return(t=n().mark((function t(){var e;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s.iReseting=!0,s.resetConfirm=!1,e=[],s.SelectedAll_submission_id.forEach((function(t){1==t.status&&e.push({id:t.id,status:1})})),0!=e.length?(s.iReseting=!1,s.$emit("StartReset",e)):(s.iReseting=!1,s.toastError("You must select atleast one data!"));case 5:case"end":return t.stop()}}),t)})),function(){var s=this,e=arguments;return new Promise((function(i,n){var l=t.apply(s,e);function o(t){a(l,i,n,o,r,"next",t)}function r(t){a(l,i,n,o,r,"throw",t)}o(void 0)}))})()}},created:function(){this.Class=this.ClassList[0].class_id,this.getSubmittedStudents()}};const o=(0,e(51900).Z)(l,(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("v-card",[e("v-card-title",{staticClass:"pa-0 pl-1 pt-1 pb-1"},[e("v-btn",{attrs:{large:"",icon:"",color:"secondary",text:""},on:{click:function(s){return t.$emit("toggleDialog")}}},[e("v-icon",[t._v("mdi-close")])],1),t._v("Reset Submissions")],1),t._v(" "),e("v-divider"),t._v(" "),e("v-card-text",{staticClass:"pa-0",staticStyle:{height:"550px","overflow-y":"scroll","overflow-x":"hidden"}},[e("v-list",{staticClass:"pt-0 mt-0"},[e("v-list-item",{staticClass:"mb-0 pb-0"},[e("v-list-item-icon",{staticClass:"pt-4",attrs:{color:"secondary"}},[e("v-select",{staticClass:"mb-0 pb-0",attrs:{outlined:"",dense:"","hide-details":"",label:"Class",items:t.ClassList,"item-text":"class_name","item-value":"class_id"},model:{value:t.Class,callback:function(s){t.Class=s},expression:"Class"}})],1),t._v(" "),e("v-list-item-content",[e("v-list-item-subtitle",[e("v-list-item-title",{staticClass:"font-weight-medium"})],1)],1),t._v(" "),e("v-list-item-action",{staticClass:"mt-3"},[0!=t.studentCount?e("div",{staticClass:"d-flex "},[t._v("\n                        \n                        "+t._s(t.selectAll?"Unselect all":"Select all")+"\n                        "),e("v-checkbox",{attrs:{"hide-details":"",color:"primary"},on:{change:function(s){return t.SelectAllStudent()}},model:{value:t.selectAll,callback:function(s){t.selectAll=s},expression:"selectAll"}})],1):t._e()])],1),t._v(" "),t._l(t.student,(function(s,i){return e("v-list-item",{directives:[{name:"show",rawName:"v-show",value:t.Class==t.$route.params.id||t.Class==s.class_id,expression:"Class == $route.params.id || Class == item.class_id"}],key:i,staticClass:"mt-0 pt-0"},[e("v-list-item-avatar",{attrs:{color:"secondary"}},[e("v-img",{attrs:{alt:"Profile",src:null==s.profile_pic||""==s.profile_pic?"https://ui-avatars.com/api/?background=random&color=fff&name="+s.firstName+" "+s.lastName:s.profile_pic}})],1),t._v(" "),e("v-list-item-content",[e("v-list-item-subtitle",[e("v-list-item-title",{staticClass:"font-weight-medium"},[t._v(t._s(s.firstName+" "+s.lastName))]),t._v(" "),"Submitted"==s.status?e("v-list-item-subtitle",[e("v-icon",{attrs:{small:"",color:"success"}},[t._v("mdi-check")]),t._v(" Submitted")],1):t._e()],1)],1),t._v(" "),e("v-list-item-action",[e("v-checkbox",{attrs:{"hide-details":"",color:"primary"},on:{click:function(e){return t.SelectData(s.Sumissionstatus,i)}},model:{value:s.Sumissionstatus,callback:function(e){t.$set(s,"Sumissionstatus",e)},expression:"item.Sumissionstatus"}})],1)],1)}))],2)],1),t._v(" "),e("v-divider"),t._v(" "),e("v-card-actions",[e("v-btn",{attrs:{rounded:"",block:"",color:"primary",loading:t.iReseting,disabled:0==t.resetCount},on:{click:function(s){t.resetConfirm=!0}}},[t._v("\n                Reset Submissions\n            ")])],1),t._v(" "),e("v-dialog",{attrs:{width:"400"},model:{value:t.resetConfirm,callback:function(s){t.resetConfirm=s},expression:"resetConfirm"}},[e("v-card",[e("v-card-title",[t._v("Confirm Reset")]),t._v(" "),e("v-card-text",[t._v("\n                    Are you sure to reset the submission of this student?\n                ")]),t._v(" "),e("v-card-actions",[e("v-spacer"),t._v(" "),e("v-btn",{attrs:{rounded:"",text:""},on:{click:function(s){t.resetConfirm=!1}}},[t._v("\n                       Cancel\n                    ")]),t._v(" "),e("v-btn",{attrs:{rounded:"",text:"",color:"primary"},on:{click:function(s){return t.ResetSubmission()}}},[t._v("\n                        Confirm\n                    ")])],1)],1)],1)],1)}),[],!1,null,null,null).exports}}]);