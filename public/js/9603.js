"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[9603],{33494:(t,e,a)=>{a.d(e,{Z:()=>l});var s=a(1519),i=a.n(s)()((function(t){return t[1]}));i.push([t.id,".md-progress-bar[data-v-6a801584]{left:0;position:absolute;right:0;top:0}",""]);const l=i},59603:(t,e,a)=>{a.r(e),a.d(e,{default:()=>o});var s=a(80008),i=a.n(s);const l={data:function(){return{noError:null,required:null,textarea:null,hasMessages:!1,form:{class_name:"",course_id:null,auto_accept:!1,meet_link:"",schedule:[]},items:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],start_time:null,end_time:null,menu:!1,menu1:!1,addScheduleDialog:!1,day:null,valid:!0,Schedvalid:!0,rules:[function(t){return!!t||"Class name is required"}],Schedrules:[function(t){return!!t||"Field is required"}],isUpdateSched:!1,is_edit_index:null}},methods:{validate:function(){this.$refs.form.validate()&&this.createClass()},validateSched:function(){this.$refs.Schedform.validate()&&this.AddSchedule()},toastSuccess:function(){return this.$toasted.success("Class Successfully Created",{theme:"toasted-primary",position:"top-center",icon:"done",duration:5e3})},createClass:function(){this.form.course_id=this.$route.params.id,this.$store.dispatch("createClass",this.form),this.$emit("newClassAdded"),this.clearFormInputs(),this.toastSuccess()},formatDisplay:function(t,e){var a=Date.parse("next "+t).at(e);return i()(a).format("LT")},AddSchedule:function(){var t=this.day.toLowerCase(),e=Date.parse("next "+t).at(this.start_time),a=Date.parse("next "+t).at(this.end_time),s=i()(e).format("LT"),l=i()(a).format("LT");this.form.schedule.push({day:this.day,display_start:s,display_end:l,start_time:this.start_time,end_time:this.end_time}),this.addScheduleDialog=!this.addScheduleDialog,this.clearInputs(),this.$refs.Schedform.resetValidation()},clearInputs:function(){this.day=null,this.start_time=null,this.end_time=null},clearFormInputs:function(){this.form.class_name="",this.form.course_id=null,this.form.end_timeauto_accept=!1,this.form.schedule=[],this.$refs.form.resetValidation()},OpenEdit:function(t,e){this.is_edit_index=e,this.day=t.day,this.start_time=t.start_time,this.end_time=t.end_time,this.addScheduleDialog=!0,this.isUpdateSched=!0},updateSchedule:function(){var t=this.day.toLowerCase(),e=Date.parse("next "+t).at(this.start_time),a=Date.parse("next "+t).at(this.end_time),s=i()(e).tz("Asia/Manila").format("LT"),l=i()(a).tz("Asia/Manila").format("LT");this.form.schedule[this.is_edit_index].day=this.day,this.form.schedule[this.is_edit_index].display_start=s,this.form.schedule[this.is_edit_index].display_end=l,this.form.schedule[this.is_edit_index].start_time=this.start_time,this.form.schedule[this.is_edit_index].end_time=this.end_time,this.isUpdateSched=!1,this.is_edit_index=null,this.addScheduleDialog=!1,this.$refs.Schedform.resetValidation(),this.clearInputs()},DeleteSchedule:function(t){this.form.schedule.splice(t,1)},copyLink:function(){var t=this.form.meet_link.match(/(https?:\/\/(?:www\.|(?!www))[^\s\.]+\.[^\s]{2,}|www|meet\.[^\s]+\.[^\s]{2,})/gi);this.form.meet_link=t[0]}}};var d=a(72446),n=a.n(d),r=a(33494),c={insert:"head",singleton:!1};n()(r.Z,c);r.Z.locals;const o=(0,a(51900).Z)(l,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-form",{ref:"form",attrs:{"lazy-validation":""},on:{submit:function(e){return e.preventDefault(),t.validate.apply(null,arguments)}},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-card-title",{},[t._v("\n         Create Class\n     ")]),t._v(" "),a("v-container",[a("v-row",{staticClass:"mx-2"},[a("v-col",{staticClass:"pa-0 ma-0",attrs:{cols:"12"}},[a("v-text-field",{staticClass:"mb-0 pb-0",attrs:{"hide-details":t.valid,rules:t.rules,outlined:"",color:"primary",label:"Class Name"},model:{value:t.form.class_name,callback:function(e){t.$set(t.form,"class_name",e)},expression:"form.class_name"}})],1),t._v(" "),a("v-col",{staticClass:"pa-0 ma-0 mt-2",attrs:{cols:"12"}},[a("small",{staticClass:"text-caption"},[t._v("Generate Google Meet Link here: "),a("a",{attrs:{href:"http://meet.google.com/new",target:"_blank"}},[t._v("meet.google.com/new ")])]),t._v(" "),a("v-text-field",{staticClass:"mt-1",attrs:{"hide-details":"",outlined:"",color:"primary",label:"Video Conference Link (optional)",type:"url"},on:{change:function(e){return t.copyLink()}},model:{value:t.form.meet_link,callback:function(e){t.$set(t.form,"meet_link",e)},expression:"form.meet_link"}})],1),t._v(" "),a("v-col",{staticClass:"pa-0 ma-0",attrs:{cols:"12"}},[a("v-switch",{attrs:{label:"Auto accept","hide-details":""},model:{value:t.form.auto_accept,callback:function(e){t.$set(t.form,"auto_accept",e)},expression:"form.auto_accept"}})],1),t._v(" "),a("v-col",{staticClass:"pa-0 ma-0 mt-5",attrs:{cols:"12"}},[a("v-btn",{attrs:{text:"",rounded:"",small:""},on:{click:function(e){t.addScheduleDialog=!0}}},[t._v("\n                         Add Schedule "),a("v-icon",[t._v("mdi-plus")])],1),t._v(" "),0!=t.form.schedule.length?a("v-divider"):t._e()],1),t._v(" "),a("v-col",{staticClass:"pa-0 ma-0 mt-4",attrs:{cols:"12"}},[a("v-row",t._l(t.form.schedule,(function(e,s){return a("v-col",{key:s,staticClass:"mb-0 pb-0 mt-0 pt-0",attrs:{cols:"12"}},[a("div",{staticClass:"d-flex justify-space-between"},[a("div",{staticClass:"d-flex mt-2"},[a("span",{staticClass:"pr-1"},[a("v-icon",{attrs:{color:"red"}},[t._v("mdi-calendar")])],1),t._v(" "),a("span",[t._v(t._s(e.day)+"- ")]),t._v(" "),a("span",{staticClass:"ml-1"},[t._v(t._s(t.formatDisplay(e.day,e.start_time)+" to "+t.formatDisplay(e.day,e.end_time)))])]),t._v(" "),a("div",{staticClass:"d-flex mb-0 pb-0"},[a("v-btn",{attrs:{icon:""},on:{click:function(a){return t.OpenEdit(e,s)}}},[a("v-icon",{attrs:{color:"blue",small:""}},[t._v("mdi-pencil")])],1),t._v(" "),a("v-btn",{attrs:{icon:""},on:{click:function(e){return t.DeleteSchedule(s)}}},[a("v-icon",{attrs:{color:"red",small:""}},[t._v("mdi-delete")])],1)],1)])])})),1)],1)],1)],1),t._v(" "),a("v-card-actions",{staticClass:"mt-3"},[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{text:""},on:{click:function(e){t.$emit("closeModal"),t.$refs.form.resetValidation()}}},[t._v("Cancel")]),t._v(" "),a("v-btn",{attrs:{text:"",color:"primary",type:"submit"}},[t._v("Create")])],1),t._v(" "),a("div",[a("v-dialog",{attrs:{persistent:"",width:"400px"},model:{value:t.addScheduleDialog,callback:function(e){t.addScheduleDialog=e},expression:"addScheduleDialog"}},[a("v-card",[a("v-form",{ref:"Schedform",attrs:{"lazy-validation":""},model:{value:t.Schedvalid,callback:function(e){t.Schedvalid=e},expression:"Schedvalid"}},[a("v-card-title",{},[a("v-btn",{attrs:{icon:""},on:{click:function(e){t.addScheduleDialog=!1,t.isUpdateSched=!1}}},[a("v-icon",[t._v("mdi-close")])],1),t._v("\n                         New Schedule\n                     ")],1),t._v(" "),a("v-container",[a("v-row",{staticClass:"mx-2"},[a("v-col",{staticClass:"pa-0 ma-0 mb-2",attrs:{cols:"12"}},[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-select",{attrs:{rules:t.Schedrules,dense:"",items:t.items,"hide-details":t.Schedvalid,outlined:"",label:"Day"},model:{value:t.day,callback:function(e){t.day=e},expression:"day"}})],1),t._v(" "),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{outlined:"",rules:t.Schedrules,dense:"","hide-details":t.Schedvalid,type:"time",label:"Start time"},model:{value:t.start_time,callback:function(e){t.start_time=e},expression:"start_time"}})],1),t._v(" "),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{outlined:"",rules:t.Schedrules,dense:"","hide-details":t.Schedvalid,type:"time",label:"End time"},model:{value:t.end_time,callback:function(e){t.end_time=e},expression:"end_time"}})],1)],1)],1)],1)],1),t._v(" "),a("v-card-actions",[t.isUpdateSched?a("v-btn",{attrs:{rounded:"",block:"",color:"primary"},on:{click:t.updateSchedule}},[t._v("Update")]):a("v-btn",{attrs:{rounded:"",block:"",color:"primary"},on:{click:t.validateSched}},[t._v("Add")])],1)],1)],1)],1)],1)],1)],1)}),[],!1,null,"6a801584",null).exports}}]);