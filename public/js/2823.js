"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[2823],{6328:(t,e,n)=>{n.d(e,{Z:()=>r});var i=n(1519),o=n.n(i)()((function(t){return t[1]}));o.push([t.id,".flip-list-move{transition:transform .5s!important}.no-move{transition:transform 0s!important}.pannel-btn{position:absolute;right:47px;top:15px;z-index:100}.v-expansion-panel-content__wrap{padding:0!important}.ghost{border-left:10px solid #ff5400!important}",""]);const r=o},2823:(t,e,n)=>{n.r(e),n.d(e,{default:()=>g});var i,o=n(7757),r=n.n(o);n(9980);function s(t,e,n,i,o,r,s){try{var a=t[r](s),l=a.value}catch(t){return void n(t)}a.done?e(l):Promise.resolve(l).then(i,o)}function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){u(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function u(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const c={props:["course_details"],data:function(){return{moduleName:"",isEdit:!1,itemType:"",isDrag:!1,itemDialog:!1,temp_id:null,showLecture:!1,addLink:!1,showClasswork:!1,subModuleForm:{},mainModule_id:"",mainModule:[],propModule:[],studentSubModuleProgress:[],studentSubModuleProgressForm:{},isGetting:!0}},computed:l(l({},(0,n(629).Se)(["getmain_module","getSub_module","getAll_sub_module"])),{},{dragOptions:function(){return{animation:0,group:"description",disabled:!1,ghostClass:"ghost"}}}),methods:(i={onEnd:function(){var t=this;this.isDrag=!0,axios.post("/api/main_module/arrange",{mainModules:this.mainModule}).then((function(e){t.isDrag=!1}))},getdata:function(){this.mainModule=this.getmain_module},student_sub_module_progress:function(t){},getCount:function(t){for(var e=0,n=0;n<this.studentSubModuleProgress.length;n++)this.studentSubModuleProgress.main_module_id==t&&e++;return e}},u(i,"getCount",(function(t,e){for(var n=0,i=0;i<t.length;i++)t[i].main_module_id==e&&n++;return n})),u(i,"checkSubModule",(function(t,e){for(var n=!1,i=0;i<t.length;i++)t[i].sub_module_id==e&&(n=!0);return n})),u(i,"fetchAllModule",(function(){var t=this;this.$store.dispatch("fetchMainModule",this.course_details.course_id).then((function(){t.isGetting=!1,t.moduleLength=t.getmain_module.length,t.mainModule=t.getmain_module})),this.$store.dispatch("fetchSubModule",this.course_details.course_id)})),i),beforeMount:function(){var t,e=this;return(t=r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.fetchAllModule();case 1:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(i,o){var r=t.apply(e,n);function a(t){s(r,i,o,a,l,"next",t)}function l(t){s(r,i,o,a,l,"throw",t)}a(void 0)}))})()}};var d=n(2446),m=n.n(d),v=n(6328),p={insert:"head",singleton:!1};m()(v.Z,p);v.Z.locals;const g=(0,n(1900).Z)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.isGetting?n("v-row",{staticStyle:{"margin-top":"13rem"},attrs:{"align-content":"center",justify:"center"}},[n("v-col",{staticClass:"text-subtitle-1 text-center",attrs:{cols:"12"}},[t._v("\n            Loading Modules\n        ")]),t._v(" "),n("v-col",{attrs:{cols:"6"}},[n("v-progress-linear",{attrs:{color:"primary",indeterminate:"",rounded:"",height:"6"}})],1)],1):t._e(),t._v(" "),0!=t.getmain_module.length||t.isGetting?t._e():n("v-row",{staticClass:"pt-10",staticStyle:{"margin-top":"7rem"},attrs:{align:"center",justify:"center"}},[n("v-col",{staticClass:"text-center",attrs:{cols:"12",sm:"8",md:"4"}},[n("v-icon",{staticStyle:{"font-size":"7rem"}},[t._v("\n                mdi-folder\n            ")]),t._v(" "),n("h2",[t._v(" Empty Modules ")])],1)],1),t._v(" "),t.isGetting||0==t.getmain_module.length?t._e():n("div",[n("v-expansion-panels",{attrs:{focusable:""}},[n("draggable",t._b({staticStyle:{width:"100%"},on:{change:t.onEnd,start:function(e){t.isDragging=!0},end:function(e){t.isDragging=!1}},model:{value:t.mainModule,callback:function(e){t.mainModule=e},expression:"mainModule"}},"draggable",t.dragOptions,!1),[n("transition-group",{attrs:{type:"transition",name:"flip-list"}},t._l(t.mainModule,(function(e,i){return n("v-expansion-panel",{key:"module"+i,attrs:{draggable:"true"}},[n("span",{staticClass:"text-right pannel-btn"}),t._v(" "),n("v-expansion-panel-header",[n("span",{staticStyle:{"font-size":"1.5rem"}},[n("v-icon",{staticStyle:{"font-size":"2.25rem"}},[t._v("\n                                    mdi-folder\n                                ")]),t._v("\n                                "+t._s(e.module_name)+"\n\n                            ")],1)]),t._v(" "),n("v-expansion-panel-content",{staticClass:"pa-0"},t._l(t.getSub_module(e.id),(function(i,o){return n("v-list-item",{key:"Submodule"+o,staticClass:"pl-8",attrs:{link:""}},[n("v-list-item-avatar",[n("v-icon",{staticClass:"grey lighten-1",attrs:{dark:""}},[t._v("\n                                        mdi-folder\n                                    ")])],1),t._v(" "),n("v-list-item-content",[n("v-list-item-title",[t._v(" "+t._s(i.sub_module_name))]),t._v(" "),n("v-list-item-subtitle",[t._v(" "+t._s(i.type))])],1),t._v(" "),n("v-list-item-action",[n("v-menu",{attrs:{transition:"slide-y-transition",bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,o=e.attrs;return[n("v-btn",t._g(t._b({attrs:{icon:""}},"v-btn",o,!1),i),[n("v-icon",{attrs:{color:"grey lighten-1"}},[t._v("mdi-dots-vertical")])],1)]}}],null,!0)},[t._v(" "),n("v-list",[n("v-list-item",{attrs:{link:""},on:{click:function(n){return t.editFileBtn(e.id)}}},[n("v-list-item-title",[t._v("Edit")])],1),t._v(" "),n("v-list-item",{attrs:{link:""},on:{click:function(n){return t.editLinkBtn(e.id)}}},[n("v-list-item-title",[t._v("Delete")])],1),t._v(" "),n("v-list-item",{attrs:{link:""}},[n("v-list-item-title",[t._v("Archive")])],1)],1)],1)],1)],1)})),1)],1)})),1)],1)],1)],1)],1)}),[],!1,null,"423ef766",null).exports}}]);