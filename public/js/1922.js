"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[1922],{61922:(t,e,s)=>{s.r(e),s.d(e,{default:()=>c});var n=s(87757),a=s.n(n);function i(t,e,s,n,a,i,o){try{var r=t[i](o),c=r.value}catch(t){return void s(t)}r.done?e(c):Promise.resolve(c).then(n,a)}function o(t){return function(){var e=this,s=arguments;return new Promise((function(n,a){var o=t.apply(e,s);function r(t){i(o,n,a,r,c,"next",t)}function c(t){i(o,n,a,r,c,"throw",t)}r(void 0)}))}}const r={props:["Class_id"],data:function(){return{JoinRequestList:[],isLoading:!0}},methods:{fetchJoinRequest:function(){var t=this;return o(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,axios.get("/api/teacher/fetch_student_join_request/"+t.$route.params.id).then((function(e){t.JoinRequestList=e.data,t.isLoading=!1})).catch((function(t){}));case 2:case"end":return e.stop()}}),e)})))()},AcceptJoinRequest:function(t,e){var s=this;return o(a().mark((function n(){return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,axios.put("/api/teacher/accept_student_join_request/"+t).then((function(t){200==t.status&&1==t.data.status?(s.JoinRequestList.splice(e,1),s.toastSuccess(t.data.message),s.$store.dispatch("UpdateJoinCount"),s.$store.dispatch("fetchAllStudents",s.$route.params.id)):200==t.status&&2==t.data.status?(s.JoinRequestList.splice(e,1),s.toastInfo(t.data.message),s.$store.dispatch("UpdateJoinCount")):s.toastError(t.data.message),s.isLoading=!1})).catch((function(t){s.toastError("Something went wrong!")}));case 2:case"end":return n.stop()}}),n)})))()},RejectJoinRequest:function(t,e){var s=this;return o(a().mark((function n(){return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,axios.delete("/api/teacher/reject_student_join_request/"+t).then((function(){s.JoinRequestList.splice(e,1),s.$store.dispatch("UpdateJoinCount")})).catch((function(t){s.toastError("Something went wrong!")}));case 2:case"end":return n.stop()}}),n)})))()}},mounted:function(){this.fetchJoinRequest()}};const c=(0,s(51900).Z)(r,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("v-row",[s("v-col",{staticClass:"mt-2",attrs:{cols:"12"}},[t._v("\n            Join Request\n        ")]),t._v(" "),t.isLoading?s("v-col",{staticClass:"mb-0 pb-0 mt-0 pt-0",attrs:{cols:"12"}},[s("v-row",t._l(7,(function(t){return s("v-col",{key:t,staticClass:"mb-0 pb-0 mt-0 pt-0",attrs:{cols:"12"}},[s("v-skeleton-loader",{attrs:{"max-width":"300",type:"list-item-avatar-two-line"}})],1)})),1)],1):t._e(),t._v(" "),t.isLoading?t._e():s("v-col",{staticClass:"mb-0 pb-0 mt-0 pt-0",attrs:{cols:"12"}},[s("v-list",{staticClass:"mb-0 pb-0"},t._l(t.JoinRequestList,(function(e,n){return s("v-list-item",{directives:[{name:"show",rawName:"v-show",value:e.class_id==t.Class_id||t.Class_id==t.$route.params.id,expression:"item.class_id == Class_id || Class_id == $route.params.id"}],key:e.user_id,staticClass:"mb-0 pb-0"},[s("v-list-item-avatar",{attrs:{color:"secondary"}},[s("v-img",{attrs:{src:null==e.profile_pic||""==e.profile_pic?"https://ui-avatars.com/api/?background=random&color=white&name="+e.firstName+" "+e.lastName:e.profile_pic}})],1),t._v(" "),s("v-list-item-content",[s("v-list-item-title",[t._v(t._s(e.firstName)+" "+t._s(e.lastName))]),t._v(" "),s("v-list-item-subtitle",[t._v(t._s(e.email))])],1),t._v(" "),s("v-list-item-action",{staticClass:"pa-0 ma-0"},[s("div",{staticClass:"d-flex"},[s("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(a){var i=a.on,o=a.attrs;return[s("v-btn",t._g(t._b({staticClass:"mr-2",attrs:{icon:""},on:{click:function(s){return t.AcceptJoinRequest(e.id,n)}}},"v-btn",o,!1),i),[s("v-icon",{attrs:{color:"blue"}},[t._v("mdi-check")])],1)]}}],null,!0)},[t._v(" "),s("span",[t._v("Accept Request")])]),t._v(" "),s("v-tooltip",{attrs:{"nudge-top":"",top:""},scopedSlots:t._u([{key:"activator",fn:function(a){var i=a.on,o=a.attrs;return[s("v-btn",t._g(t._b({staticClass:"mr-2",attrs:{icon:""},on:{click:function(s){return t.RejectJoinRequest(e.id,n)}}},"v-btn",o,!1),i),[s("v-icon",{attrs:{color:"red"}},[t._v("mdi-close")])],1)]}}],null,!0)},[t._v(" "),s("span",[t._v("Reject Request")])])],1)])],1)})),1)],1)],1)],1)}),[],!1,null,null,null).exports}}]);