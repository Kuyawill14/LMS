(self.webpackChunk=self.webpackChunk||[]).push([[4267],{7721:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i});var o=s(3645),r=s.n(o)()((function(e){return e[1]}));r.push([e.id,".card-group-row__col .fullbleed[data-v-03793157]{transition:all .4s ease-in-out!important}.card-group-row__col:hover .fullbleed[data-v-03793157]{opacity:.4!important;transition:all .4s ease-in-out}.md-card[data-v-03793157]{width:320px;margin:4px;display:inline-block;vertical-align:top}",""]);const i=r},4267:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n});var o=s(629);function r(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,o)}return s}function i(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?r(Object(s),!0).forEach((function(t){a(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):r(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function a(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const l={components:{confirmArchiveCourse:function(){return s.e(8498).then(s.bind(s,8498))}},data:function(){return{school_year:[],semester:[],school_year_id:"",semester_id:"",coursesLength:null,isGetting:!1,dialog:!1,isloading:!1,modalType:"",isPageLoading:!1,class_code:null,form:{id:"",course_name:"",course_id:"",class_description:"",course_picture:"",course_code:""},Archivedialog:!1,ArchiveDetails:{},allCoursesData:[],isLeaving:!1}},computed:(0,o.Se)(["allCourse"]),methods:i(i({},(0,o.nv)(["fetchCourseList"])),{},{toastSuccess:function(e,t){return this.$toasted.success(e,{theme:"toasted-primary",position:"top-center",icon:"done",duration:5e3})},archiveConfirm:function(e,t){this.ArchiveDetails.course_id=t,this.ArchiveDetails.name=e,this.Archivedialog=!this.Archivedialog},archiveCourse:function(){var e=this;axios.delete("/api/course/archiveCourse/"+this.ArchiveDetails.course_id).then((function(t){e.fetchCourses(),e.Archivedialog=!e.Archivedialog}))},openAddmodal:function(){this.dialog=!this.dialog,this.form.course_name="",this.form.course_code="",this.modalType="add"},openEditmodal:function(e){this.dialog=!this.dialog,this.modalType="update";var t=this.allCourse.find((function(t){return t.id===e}));this.form.id=e,this.form.course_name=t.course_name,this.form.course_code=t.course_code,this.form.course_id=t.course_id},createCourse:function(){var e=this;this.isloading=!0,""!=this.form.course_name&&""!=this.form.course_code&&this.$store.dispatch("createCourse",this.form).then((function(t){e.dialog=!1;var s=t.id;e.toastSuccess("Your course has been Added","done"),e.isLeaving=!0,e.$router.push({name:"courseSetup",params:{id:s}})}))},fetchCourses:function(){var e=this;this.isGetting=!0,this.$store.dispatch("fetchCourseList").then((function(){e.allCoursesData=e.allCourse,e.coursesLength=e.allCourse.length,e.isGetting=!1}))},fetchAllSchoolyear_semester:function(){var e=this;axios.get("/api/admin/schoolyears_semesters/all").then((function(t){e.school_year=t.data.school_year,e.semester=t.data.semester}))},schoolYearFilter:function(){var e=[];for(var t in console.log(this.semester_id.length),this.allCourse)""!=this.semester_id?this.allCourse[t].school_year_id==this.school_year_id&&this.allCourse[t].semester_id==this.semester_id&&e.push(this.allCourse[t]):this.allCourse[t].school_year_id==this.school_year_id&&e.push(this.allCourse[t]);console.log(e),this.allCoursesData=e},semesterFilter:function(){var e=[];for(var t in this.allCourse)this.allCourse[t].school_year_id==this.school_year_id&&this.allCourse[t].semester_id==this.semester_id&&e.push(this.allCourse[t]);console.log(e),this.allCoursesData=e}}),mounted:function(){this.fetchCourses(),this.fetchAllSchoolyear_semester()}};s(3906);const n=(0,s(1900).Z)(l,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-overlay",{attrs:{value:e.isLeaving}},[s("v-progress-circular",{attrs:{indeterminate:"",size:"64"}})],1),e._v(" "),s("v-dialog",{attrs:{persistent:"","max-width":"400"},model:{value:e.Archivedialog,callback:function(t){e.Archivedialog=t},expression:"Archivedialog"}},[e.Archivedialog?s("confirmArchiveCourse",{attrs:{ArchiveDetails:e.ArchiveDetails},on:{toggleCancelDialog:function(t){e.Archivedialog=!e.Archivedialog},toggleconfirm:function(t){return e.archiveCourse()}}}):e._e()],1),e._v(" "),0==e.coursesLength?s("v-row",{staticClass:"pt-10",attrs:{align:"center",justify:"center"}},[s("v-col",{staticClass:"text-center",attrs:{cols:"12",sm:"8",md:"4"}},[s("v-icon",{staticStyle:{"font-size":"14rem"}},[e._v("\n                mdi-book-variant-multiple\n            ")]),e._v(" "),s("h1",[e._v(" Create your first Course ")]),e._v(" "),s("p",[e._v(" Creating Course, you'll be able to Create Classes, manage Learning Materials, Create Quiz and Assignment and etc. ")]),e._v(" "),s("v-btn",{attrs:{color:"primary"},on:{click:function(t){return e.openAddmodal()}}},[e._v(" CREATE COURSE ")])],1)],1):e._e(),e._v(" "),e.isGetting?s("v-container",{staticStyle:{height:"400px"}},[s("v-row",{staticClass:"fill-height",attrs:{"align-content":"center",justify:"center"}},[s("v-icon",{staticStyle:{"font-size":"14rem"}},[e._v("\n                mdi-google-contacts\n            ")]),e._v(" "),s("v-col",{staticClass:"text-subtitle-1 text-center",attrs:{cols:"12"}},[s("h2",[e._v(" Loading your Courses ")])]),e._v(" "),s("v-col",{attrs:{cols:"6"}},[s("v-progress-linear",{attrs:{color:"primary",indeterminate:"",rounded:"",height:"6"}})],1)],1)],1):e._e(),e._v(" "),s("v-dialog",{attrs:{width:"400px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[s("v-card",[s("vue-element-loading",{attrs:{active:e.isloading,spinner:"bar-fade-scale"}}),e._v(" "),s("v-card-title",{},[e._v("\n                "+e._s("add"==e.modalType?"Create Course":"Edit Course")+"\n            ")]),e._v(" "),s("v-container",[s("v-row",{staticClass:"mx-2"},[s("v-col",{staticClass:"pa-0 ma-0",attrs:{cols:"12"}},[s("v-text-field",{attrs:{filled:"",color:"primary",label:"Course Code"},model:{value:e.form.course_code,callback:function(t){e.$set(e.form,"course_code",t)},expression:"form.course_code"}})],1),e._v(" "),s("v-col",{staticClass:"pa-0 ma-0",attrs:{cols:"12"}},[s("v-text-field",{attrs:{filled:"",color:"primary",label:"Course Name"},model:{value:e.form.course_name,callback:function(t){e.$set(e.form,"course_name",t)},expression:"form.course_name"}})],1)],1)],1),e._v(" "),s("v-card-actions",[s("v-spacer"),e._v(" "),s("v-btn",{attrs:{text:"",color:"secondary"},on:{click:function(t){e.dialog=!1}}},[e._v("Cancel")]),e._v(" "),s("v-btn",{attrs:{text:"",disabled:e.isloading,color:"primary"},on:{click:function(t){"add"==e.modalType?e.createCourse():e.updateCourse()}}},[e._v("\n                    "+e._s(e.isloading?"Saving...":"Save"))])],1)],1)],1),e._v(" "),0!=e.coursesLength&&0==e.isGetting?s("div",[s("v-btn",{attrs:{bottom:"",color:"primary",dark:"",fab:"",fixed:"",right:""},on:{click:function(t){return e.openAddmodal()}}},[s("v-icon",[e._v("mdi-plus")])],1),e._v(" "),s("v-row",{staticStyle:{"margin-bottom":"-40px"}},[s("v-col",[s("h2",[e._v("My Courses")])]),e._v(" "),s("v-col",{staticClass:"text-right",attrs:{lg:"2"}},[s("v-select",{staticClass:"mr-2 my-0",attrs:{dense:"",items:e.school_year,"item-text":"schoolyear","item-value":"id",label:"School Year",outlined:"",small:""},on:{change:function(t){return e.schoolYearFilter()}},model:{value:e.school_year_id,callback:function(t){e.school_year_id=t},expression:"school_year_id"}})],1),e._v(" "),s("v-col",{staticClass:"text-right",attrs:{lg:"2"}},[s("v-select",{staticClass:"mr-2 my-0",attrs:{dense:"",items:e.semester,"item-text":"semester","item-value":"id",label:"Semester",outlined:"",small:""},on:{change:function(t){return e.semesterFilter()}},model:{value:e.semester_id,callback:function(t){e.semester_id=t},expression:"semester_id"}})],1)],1),e._v(" "),s("v-row",{staticClass:"mt-3"},e._l(e.allCoursesData,(function(t,o){return s("v-col",{key:"course"+o,attrs:{lg:"3",md:"6"}},[s("div",{staticClass:"card-expansion"},[s("v-card",{staticClass:"mx-auto"},[s("v-img",{attrs:{src:"../images/"+t.course_picture,height:"200px"}},[s("v-spacer"),e._v(" "),s("v-menu",{attrs:{transition:"slide-y-transition",bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on,r=t.attrs;return[s("v-btn",e._g(e._b({staticClass:"float-right",attrs:{icon:"",color:"white"}},"v-btn",r,!1),o),[s("v-icon",[e._v("\n                                            mdi-dots-vertical\n                                        ")])],1)]}}],null,!0)},[e._v(" "),s("v-list",[s("v-list-item",{attrs:{link:"",to:{name:"settings",params:{id:t.id}}}},[s("v-list-item-title",[e._v("Edit")])],1),e._v(" "),s("v-list-item",{attrs:{link:""},on:{click:function(s){return e.archiveConfirm(t.course_name,t.id)}}},[s("v-list-item-title",[e._v("Archive")])],1),e._v(" "),0==t.student_count?s("v-list-item",{attrs:{link:""}},[s("v-list-item-title",[e._v("Delete")])],1):e._e()],1)],1)],1),e._v(" "),s("v-card-subtitle",[s("router-link",{staticStyle:{"text-decoration":"none"},attrs:{to:{name:"coursePage",params:{id:t.id}}}},[s("p",{staticStyle:{"font-size":"16px"}},[e._v(e._s(t.course_code)+"\n                                    "),s("br"),e._v(" "+e._s(t.course_name)+"\n                                ")])]),e._v(" "),s("hr"),e._v("\n                            "+e._s(t.student_count+" enrolled")+" "),s("br"),e._v("\n                            "+e._s(t.class_count+" class")+"\n                        ")],1)],1)],1)])})),1)],1):e._e()],1)}),[],!1,null,"03793157",null).exports},3906:(e,t,s)=>{var o=s(7721);o.__esModule&&(o=o.default),"string"==typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);(0,s(5346).Z)("04d04004",o,!0,{})}}]);